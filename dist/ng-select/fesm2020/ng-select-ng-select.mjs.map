{"version":3,"file":"ng-select-ng-select.mjs","sources":["../../../src/ng-select/lib/value-utils.ts","../../../src/ng-select/lib/ng-templates.directive.ts","../../../src/ng-select/lib/id.ts","../../../src/ng-select/lib/search-helper.ts","../../../src/ng-select/lib/items-list.ts","../../../src/ng-select/lib/ng-select.types.ts","../../../src/ng-select/lib/ng-dropdown-panel.service.ts","../../../src/ng-select/lib/ng-dropdown-panel.component.ts","../../../src/ng-select/lib/ng-option.component.ts","../../../src/ng-select/lib/config.service.ts","../../../src/ng-select/lib/console.service.ts","../../../src/ng-select/lib/ng-select.component.ts","../../../src/ng-select/lib/ng-select.component.html","../../../src/ng-select/lib/selection-model.ts","../../../src/ng-select/lib/ng-select.module.ts","../../../src/ng-select/public-api.ts","../../../src/ng-select/ng-select-ng-select.ts"],"sourcesContent":["const unescapedHTMLExp = /[&<>\"']/g;\r\nconst hasUnescapedHTMLExp = RegExp(unescapedHTMLExp.source);\r\nconst htmlEscapes = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    '\\'': '&#39;'\r\n};\r\n\r\nexport function escapeHTML(value: string) {\r\n    return (value && hasUnescapedHTMLExp.test(value)) ?\r\n        value.replace(unescapedHTMLExp, chr => htmlEscapes[chr]) :\r\n        value;\r\n}\r\n\r\nexport function isDefined(value: any) {\r\n    return value !== undefined && value !== null;\r\n}\r\n\r\nexport function isObject(value: any) {\r\n    return typeof value === 'object' && isDefined(value);\r\n}\r\n\r\nexport function isPromise(value: any) {\r\n    return value instanceof Promise;\r\n}\r\n\r\nexport function isFunction(value: any) {\r\n    return value instanceof Function;\r\n}\r\n","import { Directive, ElementRef, Input, OnChanges, SimpleChanges, TemplateRef } from '@angular/core';\r\nimport { escapeHTML } from './value-utils';\r\n\r\n@Directive({ selector: '[ngItemLabel]' })\r\nexport class NgItemLabelDirective implements OnChanges {\r\n    @Input() ngItemLabel: string;\r\n    @Input() escape = true;\r\n\r\n    constructor(private element: ElementRef<HTMLElement>) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        this.element.nativeElement.innerHTML = this.escape ?\r\n            escapeHTML(this.ngItemLabel) :\r\n            this.ngItemLabel;\r\n    }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-option-tmp]' })\r\nexport class NgOptionTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-optgroup-tmp]' })\r\nexport class NgOptgroupTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-label-tmp]' })\r\nexport class NgLabelTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-multi-label-tmp]' })\r\nexport class NgMultiLabelTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-header-tmp]' })\r\nexport class NgHeaderTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-footer-tmp]' })\r\nexport class NgFooterTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-notfound-tmp]' })\r\nexport class NgNotFoundTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-typetosearch-tmp]' })\r\nexport class NgTypeToSearchTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-loadingtext-tmp]' })\r\nexport class NgLoadingTextTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-tag-tmp]' })\r\nexport class NgTagTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n// eslint-disable-next-line @angular-eslint/directive-selector\r\n@Directive({ selector: '[ng-loadingspinner-tmp]' })\r\nexport class NgLoadingSpinnerTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) { }\r\n}\r\n","export function newId() {\r\n    // First character is an 'a', it's good practice to tag id to begin with a letter\r\n    return 'axxxxxxxxxxx'.replace(/[x]/g, () => {\r\n        // eslint-disable-next-line no-bitwise\r\n        const val = Math.random() * 16 | 0;\r\n        return val.toString(16);\r\n    });\r\n}\r\n","const diacritics = {\r\n    '\\u24B6': 'A',\r\n    '\\uFF21': 'A',\r\n    '\\u00C0': 'A',\r\n    '\\u00C1': 'A',\r\n    '\\u00C2': 'A',\r\n    '\\u1EA6': 'A',\r\n    '\\u1EA4': 'A',\r\n    '\\u1EAA': 'A',\r\n    '\\u1EA8': 'A',\r\n    '\\u00C3': 'A',\r\n    '\\u0100': 'A',\r\n    '\\u0102': 'A',\r\n    '\\u1EB0': 'A',\r\n    '\\u1EAE': 'A',\r\n    '\\u1EB4': 'A',\r\n    '\\u1EB2': 'A',\r\n    '\\u0226': 'A',\r\n    '\\u01E0': 'A',\r\n    '\\u00C4': 'A',\r\n    '\\u01DE': 'A',\r\n    '\\u1EA2': 'A',\r\n    '\\u00C5': 'A',\r\n    '\\u01FA': 'A',\r\n    '\\u01CD': 'A',\r\n    '\\u0200': 'A',\r\n    '\\u0202': 'A',\r\n    '\\u1EA0': 'A',\r\n    '\\u1EAC': 'A',\r\n    '\\u1EB6': 'A',\r\n    '\\u1E00': 'A',\r\n    '\\u0104': 'A',\r\n    '\\u023A': 'A',\r\n    '\\u2C6F': 'A',\r\n    '\\uA732': 'AA',\r\n    '\\u00C6': 'AE',\r\n    '\\u01FC': 'AE',\r\n    '\\u01E2': 'AE',\r\n    '\\uA734': 'AO',\r\n    '\\uA736': 'AU',\r\n    '\\uA738': 'AV',\r\n    '\\uA73A': 'AV',\r\n    '\\uA73C': 'AY',\r\n    '\\u24B7': 'B',\r\n    '\\uFF22': 'B',\r\n    '\\u1E02': 'B',\r\n    '\\u1E04': 'B',\r\n    '\\u1E06': 'B',\r\n    '\\u0243': 'B',\r\n    '\\u0182': 'B',\r\n    '\\u0181': 'B',\r\n    '\\u24B8': 'C',\r\n    '\\uFF23': 'C',\r\n    '\\u0106': 'C',\r\n    '\\u0108': 'C',\r\n    '\\u010A': 'C',\r\n    '\\u010C': 'C',\r\n    '\\u00C7': 'C',\r\n    '\\u1E08': 'C',\r\n    '\\u0187': 'C',\r\n    '\\u023B': 'C',\r\n    '\\uA73E': 'C',\r\n    '\\u24B9': 'D',\r\n    '\\uFF24': 'D',\r\n    '\\u1E0A': 'D',\r\n    '\\u010E': 'D',\r\n    '\\u1E0C': 'D',\r\n    '\\u1E10': 'D',\r\n    '\\u1E12': 'D',\r\n    '\\u1E0E': 'D',\r\n    '\\u0110': 'D',\r\n    '\\u018B': 'D',\r\n    '\\u018A': 'D',\r\n    '\\u0189': 'D',\r\n    '\\uA779': 'D',\r\n    '\\u01F1': 'DZ',\r\n    '\\u01C4': 'DZ',\r\n    '\\u01F2': 'Dz',\r\n    '\\u01C5': 'Dz',\r\n    '\\u24BA': 'E',\r\n    '\\uFF25': 'E',\r\n    '\\u00C8': 'E',\r\n    '\\u00C9': 'E',\r\n    '\\u00CA': 'E',\r\n    '\\u1EC0': 'E',\r\n    '\\u1EBE': 'E',\r\n    '\\u1EC4': 'E',\r\n    '\\u1EC2': 'E',\r\n    '\\u1EBC': 'E',\r\n    '\\u0112': 'E',\r\n    '\\u1E14': 'E',\r\n    '\\u1E16': 'E',\r\n    '\\u0114': 'E',\r\n    '\\u0116': 'E',\r\n    '\\u00CB': 'E',\r\n    '\\u1EBA': 'E',\r\n    '\\u011A': 'E',\r\n    '\\u0204': 'E',\r\n    '\\u0206': 'E',\r\n    '\\u1EB8': 'E',\r\n    '\\u1EC6': 'E',\r\n    '\\u0228': 'E',\r\n    '\\u1E1C': 'E',\r\n    '\\u0118': 'E',\r\n    '\\u1E18': 'E',\r\n    '\\u1E1A': 'E',\r\n    '\\u0190': 'E',\r\n    '\\u018E': 'E',\r\n    '\\u24BB': 'F',\r\n    '\\uFF26': 'F',\r\n    '\\u1E1E': 'F',\r\n    '\\u0191': 'F',\r\n    '\\uA77B': 'F',\r\n    '\\u24BC': 'G',\r\n    '\\uFF27': 'G',\r\n    '\\u01F4': 'G',\r\n    '\\u011C': 'G',\r\n    '\\u1E20': 'G',\r\n    '\\u011E': 'G',\r\n    '\\u0120': 'G',\r\n    '\\u01E6': 'G',\r\n    '\\u0122': 'G',\r\n    '\\u01E4': 'G',\r\n    '\\u0193': 'G',\r\n    '\\uA7A0': 'G',\r\n    '\\uA77D': 'G',\r\n    '\\uA77E': 'G',\r\n    '\\u24BD': 'H',\r\n    '\\uFF28': 'H',\r\n    '\\u0124': 'H',\r\n    '\\u1E22': 'H',\r\n    '\\u1E26': 'H',\r\n    '\\u021E': 'H',\r\n    '\\u1E24': 'H',\r\n    '\\u1E28': 'H',\r\n    '\\u1E2A': 'H',\r\n    '\\u0126': 'H',\r\n    '\\u2C67': 'H',\r\n    '\\u2C75': 'H',\r\n    '\\uA78D': 'H',\r\n    '\\u24BE': 'I',\r\n    '\\uFF29': 'I',\r\n    '\\u00CC': 'I',\r\n    '\\u00CD': 'I',\r\n    '\\u00CE': 'I',\r\n    '\\u0128': 'I',\r\n    '\\u012A': 'I',\r\n    '\\u012C': 'I',\r\n    '\\u0130': 'I',\r\n    '\\u00CF': 'I',\r\n    '\\u1E2E': 'I',\r\n    '\\u1EC8': 'I',\r\n    '\\u01CF': 'I',\r\n    '\\u0208': 'I',\r\n    '\\u020A': 'I',\r\n    '\\u1ECA': 'I',\r\n    '\\u012E': 'I',\r\n    '\\u1E2C': 'I',\r\n    '\\u0197': 'I',\r\n    '\\u24BF': 'J',\r\n    '\\uFF2A': 'J',\r\n    '\\u0134': 'J',\r\n    '\\u0248': 'J',\r\n    '\\u24C0': 'K',\r\n    '\\uFF2B': 'K',\r\n    '\\u1E30': 'K',\r\n    '\\u01E8': 'K',\r\n    '\\u1E32': 'K',\r\n    '\\u0136': 'K',\r\n    '\\u1E34': 'K',\r\n    '\\u0198': 'K',\r\n    '\\u2C69': 'K',\r\n    '\\uA740': 'K',\r\n    '\\uA742': 'K',\r\n    '\\uA744': 'K',\r\n    '\\uA7A2': 'K',\r\n    '\\u24C1': 'L',\r\n    '\\uFF2C': 'L',\r\n    '\\u013F': 'L',\r\n    '\\u0139': 'L',\r\n    '\\u013D': 'L',\r\n    '\\u1E36': 'L',\r\n    '\\u1E38': 'L',\r\n    '\\u013B': 'L',\r\n    '\\u1E3C': 'L',\r\n    '\\u1E3A': 'L',\r\n    '\\u0141': 'L',\r\n    '\\u023D': 'L',\r\n    '\\u2C62': 'L',\r\n    '\\u2C60': 'L',\r\n    '\\uA748': 'L',\r\n    '\\uA746': 'L',\r\n    '\\uA780': 'L',\r\n    '\\u01C7': 'LJ',\r\n    '\\u01C8': 'Lj',\r\n    '\\u24C2': 'M',\r\n    '\\uFF2D': 'M',\r\n    '\\u1E3E': 'M',\r\n    '\\u1E40': 'M',\r\n    '\\u1E42': 'M',\r\n    '\\u2C6E': 'M',\r\n    '\\u019C': 'M',\r\n    '\\u24C3': 'N',\r\n    '\\uFF2E': 'N',\r\n    '\\u01F8': 'N',\r\n    '\\u0143': 'N',\r\n    '\\u00D1': 'N',\r\n    '\\u1E44': 'N',\r\n    '\\u0147': 'N',\r\n    '\\u1E46': 'N',\r\n    '\\u0145': 'N',\r\n    '\\u1E4A': 'N',\r\n    '\\u1E48': 'N',\r\n    '\\u0220': 'N',\r\n    '\\u019D': 'N',\r\n    '\\uA790': 'N',\r\n    '\\uA7A4': 'N',\r\n    '\\u01CA': 'NJ',\r\n    '\\u01CB': 'Nj',\r\n    '\\u24C4': 'O',\r\n    '\\uFF2F': 'O',\r\n    '\\u00D2': 'O',\r\n    '\\u00D3': 'O',\r\n    '\\u00D4': 'O',\r\n    '\\u1ED2': 'O',\r\n    '\\u1ED0': 'O',\r\n    '\\u1ED6': 'O',\r\n    '\\u1ED4': 'O',\r\n    '\\u00D5': 'O',\r\n    '\\u1E4C': 'O',\r\n    '\\u022C': 'O',\r\n    '\\u1E4E': 'O',\r\n    '\\u014C': 'O',\r\n    '\\u1E50': 'O',\r\n    '\\u1E52': 'O',\r\n    '\\u014E': 'O',\r\n    '\\u022E': 'O',\r\n    '\\u0230': 'O',\r\n    '\\u00D6': 'O',\r\n    '\\u022A': 'O',\r\n    '\\u1ECE': 'O',\r\n    '\\u0150': 'O',\r\n    '\\u01D1': 'O',\r\n    '\\u020C': 'O',\r\n    '\\u020E': 'O',\r\n    '\\u01A0': 'O',\r\n    '\\u1EDC': 'O',\r\n    '\\u1EDA': 'O',\r\n    '\\u1EE0': 'O',\r\n    '\\u1EDE': 'O',\r\n    '\\u1EE2': 'O',\r\n    '\\u1ECC': 'O',\r\n    '\\u1ED8': 'O',\r\n    '\\u01EA': 'O',\r\n    '\\u01EC': 'O',\r\n    '\\u00D8': 'O',\r\n    '\\u01FE': 'O',\r\n    '\\u0186': 'O',\r\n    '\\u019F': 'O',\r\n    '\\uA74A': 'O',\r\n    '\\uA74C': 'O',\r\n    '\\u01A2': 'OI',\r\n    '\\uA74E': 'OO',\r\n    '\\u0222': 'OU',\r\n    '\\u24C5': 'P',\r\n    '\\uFF30': 'P',\r\n    '\\u1E54': 'P',\r\n    '\\u1E56': 'P',\r\n    '\\u01A4': 'P',\r\n    '\\u2C63': 'P',\r\n    '\\uA750': 'P',\r\n    '\\uA752': 'P',\r\n    '\\uA754': 'P',\r\n    '\\u24C6': 'Q',\r\n    '\\uFF31': 'Q',\r\n    '\\uA756': 'Q',\r\n    '\\uA758': 'Q',\r\n    '\\u024A': 'Q',\r\n    '\\u24C7': 'R',\r\n    '\\uFF32': 'R',\r\n    '\\u0154': 'R',\r\n    '\\u1E58': 'R',\r\n    '\\u0158': 'R',\r\n    '\\u0210': 'R',\r\n    '\\u0212': 'R',\r\n    '\\u1E5A': 'R',\r\n    '\\u1E5C': 'R',\r\n    '\\u0156': 'R',\r\n    '\\u1E5E': 'R',\r\n    '\\u024C': 'R',\r\n    '\\u2C64': 'R',\r\n    '\\uA75A': 'R',\r\n    '\\uA7A6': 'R',\r\n    '\\uA782': 'R',\r\n    '\\u24C8': 'S',\r\n    '\\uFF33': 'S',\r\n    '\\u1E9E': 'S',\r\n    '\\u015A': 'S',\r\n    '\\u1E64': 'S',\r\n    '\\u015C': 'S',\r\n    '\\u1E60': 'S',\r\n    '\\u0160': 'S',\r\n    '\\u1E66': 'S',\r\n    '\\u1E62': 'S',\r\n    '\\u1E68': 'S',\r\n    '\\u0218': 'S',\r\n    '\\u015E': 'S',\r\n    '\\u2C7E': 'S',\r\n    '\\uA7A8': 'S',\r\n    '\\uA784': 'S',\r\n    '\\u24C9': 'T',\r\n    '\\uFF34': 'T',\r\n    '\\u1E6A': 'T',\r\n    '\\u0164': 'T',\r\n    '\\u1E6C': 'T',\r\n    '\\u021A': 'T',\r\n    '\\u0162': 'T',\r\n    '\\u1E70': 'T',\r\n    '\\u1E6E': 'T',\r\n    '\\u0166': 'T',\r\n    '\\u01AC': 'T',\r\n    '\\u01AE': 'T',\r\n    '\\u023E': 'T',\r\n    '\\uA786': 'T',\r\n    '\\uA728': 'TZ',\r\n    '\\u24CA': 'U',\r\n    '\\uFF35': 'U',\r\n    '\\u00D9': 'U',\r\n    '\\u00DA': 'U',\r\n    '\\u00DB': 'U',\r\n    '\\u0168': 'U',\r\n    '\\u1E78': 'U',\r\n    '\\u016A': 'U',\r\n    '\\u1E7A': 'U',\r\n    '\\u016C': 'U',\r\n    '\\u00DC': 'U',\r\n    '\\u01DB': 'U',\r\n    '\\u01D7': 'U',\r\n    '\\u01D5': 'U',\r\n    '\\u01D9': 'U',\r\n    '\\u1EE6': 'U',\r\n    '\\u016E': 'U',\r\n    '\\u0170': 'U',\r\n    '\\u01D3': 'U',\r\n    '\\u0214': 'U',\r\n    '\\u0216': 'U',\r\n    '\\u01AF': 'U',\r\n    '\\u1EEA': 'U',\r\n    '\\u1EE8': 'U',\r\n    '\\u1EEE': 'U',\r\n    '\\u1EEC': 'U',\r\n    '\\u1EF0': 'U',\r\n    '\\u1EE4': 'U',\r\n    '\\u1E72': 'U',\r\n    '\\u0172': 'U',\r\n    '\\u1E76': 'U',\r\n    '\\u1E74': 'U',\r\n    '\\u0244': 'U',\r\n    '\\u24CB': 'V',\r\n    '\\uFF36': 'V',\r\n    '\\u1E7C': 'V',\r\n    '\\u1E7E': 'V',\r\n    '\\u01B2': 'V',\r\n    '\\uA75E': 'V',\r\n    '\\u0245': 'V',\r\n    '\\uA760': 'VY',\r\n    '\\u24CC': 'W',\r\n    '\\uFF37': 'W',\r\n    '\\u1E80': 'W',\r\n    '\\u1E82': 'W',\r\n    '\\u0174': 'W',\r\n    '\\u1E86': 'W',\r\n    '\\u1E84': 'W',\r\n    '\\u1E88': 'W',\r\n    '\\u2C72': 'W',\r\n    '\\u24CD': 'X',\r\n    '\\uFF38': 'X',\r\n    '\\u1E8A': 'X',\r\n    '\\u1E8C': 'X',\r\n    '\\u24CE': 'Y',\r\n    '\\uFF39': 'Y',\r\n    '\\u1EF2': 'Y',\r\n    '\\u00DD': 'Y',\r\n    '\\u0176': 'Y',\r\n    '\\u1EF8': 'Y',\r\n    '\\u0232': 'Y',\r\n    '\\u1E8E': 'Y',\r\n    '\\u0178': 'Y',\r\n    '\\u1EF6': 'Y',\r\n    '\\u1EF4': 'Y',\r\n    '\\u01B3': 'Y',\r\n    '\\u024E': 'Y',\r\n    '\\u1EFE': 'Y',\r\n    '\\u24CF': 'Z',\r\n    '\\uFF3A': 'Z',\r\n    '\\u0179': 'Z',\r\n    '\\u1E90': 'Z',\r\n    '\\u017B': 'Z',\r\n    '\\u017D': 'Z',\r\n    '\\u1E92': 'Z',\r\n    '\\u1E94': 'Z',\r\n    '\\u01B5': 'Z',\r\n    '\\u0224': 'Z',\r\n    '\\u2C7F': 'Z',\r\n    '\\u2C6B': 'Z',\r\n    '\\uA762': 'Z',\r\n    '\\u24D0': 'a',\r\n    '\\uFF41': 'a',\r\n    '\\u1E9A': 'a',\r\n    '\\u00E0': 'a',\r\n    '\\u00E1': 'a',\r\n    '\\u00E2': 'a',\r\n    '\\u1EA7': 'a',\r\n    '\\u1EA5': 'a',\r\n    '\\u1EAB': 'a',\r\n    '\\u1EA9': 'a',\r\n    '\\u00E3': 'a',\r\n    '\\u0101': 'a',\r\n    '\\u0103': 'a',\r\n    '\\u1EB1': 'a',\r\n    '\\u1EAF': 'a',\r\n    '\\u1EB5': 'a',\r\n    '\\u1EB3': 'a',\r\n    '\\u0227': 'a',\r\n    '\\u01E1': 'a',\r\n    '\\u00E4': 'a',\r\n    '\\u01DF': 'a',\r\n    '\\u1EA3': 'a',\r\n    '\\u00E5': 'a',\r\n    '\\u01FB': 'a',\r\n    '\\u01CE': 'a',\r\n    '\\u0201': 'a',\r\n    '\\u0203': 'a',\r\n    '\\u1EA1': 'a',\r\n    '\\u1EAD': 'a',\r\n    '\\u1EB7': 'a',\r\n    '\\u1E01': 'a',\r\n    '\\u0105': 'a',\r\n    '\\u2C65': 'a',\r\n    '\\u0250': 'a',\r\n    '\\uA733': 'aa',\r\n    '\\u00E6': 'ae',\r\n    '\\u01FD': 'ae',\r\n    '\\u01E3': 'ae',\r\n    '\\uA735': 'ao',\r\n    '\\uA737': 'au',\r\n    '\\uA739': 'av',\r\n    '\\uA73B': 'av',\r\n    '\\uA73D': 'ay',\r\n    '\\u24D1': 'b',\r\n    '\\uFF42': 'b',\r\n    '\\u1E03': 'b',\r\n    '\\u1E05': 'b',\r\n    '\\u1E07': 'b',\r\n    '\\u0180': 'b',\r\n    '\\u0183': 'b',\r\n    '\\u0253': 'b',\r\n    '\\u24D2': 'c',\r\n    '\\uFF43': 'c',\r\n    '\\u0107': 'c',\r\n    '\\u0109': 'c',\r\n    '\\u010B': 'c',\r\n    '\\u010D': 'c',\r\n    '\\u00E7': 'c',\r\n    '\\u1E09': 'c',\r\n    '\\u0188': 'c',\r\n    '\\u023C': 'c',\r\n    '\\uA73F': 'c',\r\n    '\\u2184': 'c',\r\n    '\\u24D3': 'd',\r\n    '\\uFF44': 'd',\r\n    '\\u1E0B': 'd',\r\n    '\\u010F': 'd',\r\n    '\\u1E0D': 'd',\r\n    '\\u1E11': 'd',\r\n    '\\u1E13': 'd',\r\n    '\\u1E0F': 'd',\r\n    '\\u0111': 'd',\r\n    '\\u018C': 'd',\r\n    '\\u0256': 'd',\r\n    '\\u0257': 'd',\r\n    '\\uA77A': 'd',\r\n    '\\u01F3': 'dz',\r\n    '\\u01C6': 'dz',\r\n    '\\u24D4': 'e',\r\n    '\\uFF45': 'e',\r\n    '\\u00E8': 'e',\r\n    '\\u00E9': 'e',\r\n    '\\u00EA': 'e',\r\n    '\\u1EC1': 'e',\r\n    '\\u1EBF': 'e',\r\n    '\\u1EC5': 'e',\r\n    '\\u1EC3': 'e',\r\n    '\\u1EBD': 'e',\r\n    '\\u0113': 'e',\r\n    '\\u1E15': 'e',\r\n    '\\u1E17': 'e',\r\n    '\\u0115': 'e',\r\n    '\\u0117': 'e',\r\n    '\\u00EB': 'e',\r\n    '\\u1EBB': 'e',\r\n    '\\u011B': 'e',\r\n    '\\u0205': 'e',\r\n    '\\u0207': 'e',\r\n    '\\u1EB9': 'e',\r\n    '\\u1EC7': 'e',\r\n    '\\u0229': 'e',\r\n    '\\u1E1D': 'e',\r\n    '\\u0119': 'e',\r\n    '\\u1E19': 'e',\r\n    '\\u1E1B': 'e',\r\n    '\\u0247': 'e',\r\n    '\\u025B': 'e',\r\n    '\\u01DD': 'e',\r\n    '\\u24D5': 'f',\r\n    '\\uFF46': 'f',\r\n    '\\u1E1F': 'f',\r\n    '\\u0192': 'f',\r\n    '\\uA77C': 'f',\r\n    '\\u24D6': 'g',\r\n    '\\uFF47': 'g',\r\n    '\\u01F5': 'g',\r\n    '\\u011D': 'g',\r\n    '\\u1E21': 'g',\r\n    '\\u011F': 'g',\r\n    '\\u0121': 'g',\r\n    '\\u01E7': 'g',\r\n    '\\u0123': 'g',\r\n    '\\u01E5': 'g',\r\n    '\\u0260': 'g',\r\n    '\\uA7A1': 'g',\r\n    '\\u1D79': 'g',\r\n    '\\uA77F': 'g',\r\n    '\\u24D7': 'h',\r\n    '\\uFF48': 'h',\r\n    '\\u0125': 'h',\r\n    '\\u1E23': 'h',\r\n    '\\u1E27': 'h',\r\n    '\\u021F': 'h',\r\n    '\\u1E25': 'h',\r\n    '\\u1E29': 'h',\r\n    '\\u1E2B': 'h',\r\n    '\\u1E96': 'h',\r\n    '\\u0127': 'h',\r\n    '\\u2C68': 'h',\r\n    '\\u2C76': 'h',\r\n    '\\u0265': 'h',\r\n    '\\u0195': 'hv',\r\n    '\\u24D8': 'i',\r\n    '\\uFF49': 'i',\r\n    '\\u00EC': 'i',\r\n    '\\u00ED': 'i',\r\n    '\\u00EE': 'i',\r\n    '\\u0129': 'i',\r\n    '\\u012B': 'i',\r\n    '\\u012D': 'i',\r\n    '\\u00EF': 'i',\r\n    '\\u1E2F': 'i',\r\n    '\\u1EC9': 'i',\r\n    '\\u01D0': 'i',\r\n    '\\u0209': 'i',\r\n    '\\u020B': 'i',\r\n    '\\u1ECB': 'i',\r\n    '\\u012F': 'i',\r\n    '\\u1E2D': 'i',\r\n    '\\u0268': 'i',\r\n    '\\u0131': 'i',\r\n    '\\u24D9': 'j',\r\n    '\\uFF4A': 'j',\r\n    '\\u0135': 'j',\r\n    '\\u01F0': 'j',\r\n    '\\u0249': 'j',\r\n    '\\u24DA': 'k',\r\n    '\\uFF4B': 'k',\r\n    '\\u1E31': 'k',\r\n    '\\u01E9': 'k',\r\n    '\\u1E33': 'k',\r\n    '\\u0137': 'k',\r\n    '\\u1E35': 'k',\r\n    '\\u0199': 'k',\r\n    '\\u2C6A': 'k',\r\n    '\\uA741': 'k',\r\n    '\\uA743': 'k',\r\n    '\\uA745': 'k',\r\n    '\\uA7A3': 'k',\r\n    '\\u24DB': 'l',\r\n    '\\uFF4C': 'l',\r\n    '\\u0140': 'l',\r\n    '\\u013A': 'l',\r\n    '\\u013E': 'l',\r\n    '\\u1E37': 'l',\r\n    '\\u1E39': 'l',\r\n    '\\u013C': 'l',\r\n    '\\u1E3D': 'l',\r\n    '\\u1E3B': 'l',\r\n    '\\u017F': 'l',\r\n    '\\u0142': 'l',\r\n    '\\u019A': 'l',\r\n    '\\u026B': 'l',\r\n    '\\u2C61': 'l',\r\n    '\\uA749': 'l',\r\n    '\\uA781': 'l',\r\n    '\\uA747': 'l',\r\n    '\\u01C9': 'lj',\r\n    '\\u24DC': 'm',\r\n    '\\uFF4D': 'm',\r\n    '\\u1E3F': 'm',\r\n    '\\u1E41': 'm',\r\n    '\\u1E43': 'm',\r\n    '\\u0271': 'm',\r\n    '\\u026F': 'm',\r\n    '\\u24DD': 'n',\r\n    '\\uFF4E': 'n',\r\n    '\\u01F9': 'n',\r\n    '\\u0144': 'n',\r\n    '\\u00F1': 'n',\r\n    '\\u1E45': 'n',\r\n    '\\u0148': 'n',\r\n    '\\u1E47': 'n',\r\n    '\\u0146': 'n',\r\n    '\\u1E4B': 'n',\r\n    '\\u1E49': 'n',\r\n    '\\u019E': 'n',\r\n    '\\u0272': 'n',\r\n    '\\u0149': 'n',\r\n    '\\uA791': 'n',\r\n    '\\uA7A5': 'n',\r\n    '\\u01CC': 'nj',\r\n    '\\u24DE': 'o',\r\n    '\\uFF4F': 'o',\r\n    '\\u00F2': 'o',\r\n    '\\u00F3': 'o',\r\n    '\\u00F4': 'o',\r\n    '\\u1ED3': 'o',\r\n    '\\u1ED1': 'o',\r\n    '\\u1ED7': 'o',\r\n    '\\u1ED5': 'o',\r\n    '\\u00F5': 'o',\r\n    '\\u1E4D': 'o',\r\n    '\\u022D': 'o',\r\n    '\\u1E4F': 'o',\r\n    '\\u014D': 'o',\r\n    '\\u1E51': 'o',\r\n    '\\u1E53': 'o',\r\n    '\\u014F': 'o',\r\n    '\\u022F': 'o',\r\n    '\\u0231': 'o',\r\n    '\\u00F6': 'o',\r\n    '\\u022B': 'o',\r\n    '\\u1ECF': 'o',\r\n    '\\u0151': 'o',\r\n    '\\u01D2': 'o',\r\n    '\\u020D': 'o',\r\n    '\\u020F': 'o',\r\n    '\\u01A1': 'o',\r\n    '\\u1EDD': 'o',\r\n    '\\u1EDB': 'o',\r\n    '\\u1EE1': 'o',\r\n    '\\u1EDF': 'o',\r\n    '\\u1EE3': 'o',\r\n    '\\u1ECD': 'o',\r\n    '\\u1ED9': 'o',\r\n    '\\u01EB': 'o',\r\n    '\\u01ED': 'o',\r\n    '\\u00F8': 'o',\r\n    '\\u01FF': 'o',\r\n    '\\u0254': 'o',\r\n    '\\uA74B': 'o',\r\n    '\\uA74D': 'o',\r\n    '\\u0275': 'o',\r\n    '\\u01A3': 'oi',\r\n    '\\u0223': 'ou',\r\n    '\\uA74F': 'oo',\r\n    '\\u24DF': 'p',\r\n    '\\uFF50': 'p',\r\n    '\\u1E55': 'p',\r\n    '\\u1E57': 'p',\r\n    '\\u01A5': 'p',\r\n    '\\u1D7D': 'p',\r\n    '\\uA751': 'p',\r\n    '\\uA753': 'p',\r\n    '\\uA755': 'p',\r\n    '\\u24E0': 'q',\r\n    '\\uFF51': 'q',\r\n    '\\u024B': 'q',\r\n    '\\uA757': 'q',\r\n    '\\uA759': 'q',\r\n    '\\u24E1': 'r',\r\n    '\\uFF52': 'r',\r\n    '\\u0155': 'r',\r\n    '\\u1E59': 'r',\r\n    '\\u0159': 'r',\r\n    '\\u0211': 'r',\r\n    '\\u0213': 'r',\r\n    '\\u1E5B': 'r',\r\n    '\\u1E5D': 'r',\r\n    '\\u0157': 'r',\r\n    '\\u1E5F': 'r',\r\n    '\\u024D': 'r',\r\n    '\\u027D': 'r',\r\n    '\\uA75B': 'r',\r\n    '\\uA7A7': 'r',\r\n    '\\uA783': 'r',\r\n    '\\u24E2': 's',\r\n    '\\uFF53': 's',\r\n    '\\u00DF': 's',\r\n    '\\u015B': 's',\r\n    '\\u1E65': 's',\r\n    '\\u015D': 's',\r\n    '\\u1E61': 's',\r\n    '\\u0161': 's',\r\n    '\\u1E67': 's',\r\n    '\\u1E63': 's',\r\n    '\\u1E69': 's',\r\n    '\\u0219': 's',\r\n    '\\u015F': 's',\r\n    '\\u023F': 's',\r\n    '\\uA7A9': 's',\r\n    '\\uA785': 's',\r\n    '\\u1E9B': 's',\r\n    '\\u24E3': 't',\r\n    '\\uFF54': 't',\r\n    '\\u1E6B': 't',\r\n    '\\u1E97': 't',\r\n    '\\u0165': 't',\r\n    '\\u1E6D': 't',\r\n    '\\u021B': 't',\r\n    '\\u0163': 't',\r\n    '\\u1E71': 't',\r\n    '\\u1E6F': 't',\r\n    '\\u0167': 't',\r\n    '\\u01AD': 't',\r\n    '\\u0288': 't',\r\n    '\\u2C66': 't',\r\n    '\\uA787': 't',\r\n    '\\uA729': 'tz',\r\n    '\\u24E4': 'u',\r\n    '\\uFF55': 'u',\r\n    '\\u00F9': 'u',\r\n    '\\u00FA': 'u',\r\n    '\\u00FB': 'u',\r\n    '\\u0169': 'u',\r\n    '\\u1E79': 'u',\r\n    '\\u016B': 'u',\r\n    '\\u1E7B': 'u',\r\n    '\\u016D': 'u',\r\n    '\\u00FC': 'u',\r\n    '\\u01DC': 'u',\r\n    '\\u01D8': 'u',\r\n    '\\u01D6': 'u',\r\n    '\\u01DA': 'u',\r\n    '\\u1EE7': 'u',\r\n    '\\u016F': 'u',\r\n    '\\u0171': 'u',\r\n    '\\u01D4': 'u',\r\n    '\\u0215': 'u',\r\n    '\\u0217': 'u',\r\n    '\\u01B0': 'u',\r\n    '\\u1EEB': 'u',\r\n    '\\u1EE9': 'u',\r\n    '\\u1EEF': 'u',\r\n    '\\u1EED': 'u',\r\n    '\\u1EF1': 'u',\r\n    '\\u1EE5': 'u',\r\n    '\\u1E73': 'u',\r\n    '\\u0173': 'u',\r\n    '\\u1E77': 'u',\r\n    '\\u1E75': 'u',\r\n    '\\u0289': 'u',\r\n    '\\u24E5': 'v',\r\n    '\\uFF56': 'v',\r\n    '\\u1E7D': 'v',\r\n    '\\u1E7F': 'v',\r\n    '\\u028B': 'v',\r\n    '\\uA75F': 'v',\r\n    '\\u028C': 'v',\r\n    '\\uA761': 'vy',\r\n    '\\u24E6': 'w',\r\n    '\\uFF57': 'w',\r\n    '\\u1E81': 'w',\r\n    '\\u1E83': 'w',\r\n    '\\u0175': 'w',\r\n    '\\u1E87': 'w',\r\n    '\\u1E85': 'w',\r\n    '\\u1E98': 'w',\r\n    '\\u1E89': 'w',\r\n    '\\u2C73': 'w',\r\n    '\\u24E7': 'x',\r\n    '\\uFF58': 'x',\r\n    '\\u1E8B': 'x',\r\n    '\\u1E8D': 'x',\r\n    '\\u24E8': 'y',\r\n    '\\uFF59': 'y',\r\n    '\\u1EF3': 'y',\r\n    '\\u00FD': 'y',\r\n    '\\u0177': 'y',\r\n    '\\u1EF9': 'y',\r\n    '\\u0233': 'y',\r\n    '\\u1E8F': 'y',\r\n    '\\u00FF': 'y',\r\n    '\\u1EF7': 'y',\r\n    '\\u1E99': 'y',\r\n    '\\u1EF5': 'y',\r\n    '\\u01B4': 'y',\r\n    '\\u024F': 'y',\r\n    '\\u1EFF': 'y',\r\n    '\\u24E9': 'z',\r\n    '\\uFF5A': 'z',\r\n    '\\u017A': 'z',\r\n    '\\u1E91': 'z',\r\n    '\\u017C': 'z',\r\n    '\\u017E': 'z',\r\n    '\\u1E93': 'z',\r\n    '\\u1E95': 'z',\r\n    '\\u01B6': 'z',\r\n    '\\u0225': 'z',\r\n    '\\u0240': 'z',\r\n    '\\u2C6C': 'z',\r\n    '\\uA763': 'z',\r\n    '\\u0386': '\\u0391',\r\n    '\\u0388': '\\u0395',\r\n    '\\u0389': '\\u0397',\r\n    '\\u038A': '\\u0399',\r\n    '\\u03AA': '\\u0399',\r\n    '\\u038C': '\\u039F',\r\n    '\\u038E': '\\u03A5',\r\n    '\\u03AB': '\\u03A5',\r\n    '\\u038F': '\\u03A9',\r\n    '\\u03AC': '\\u03B1',\r\n    '\\u03AD': '\\u03B5',\r\n    '\\u03AE': '\\u03B7',\r\n    '\\u03AF': '\\u03B9',\r\n    '\\u03CA': '\\u03B9',\r\n    '\\u0390': '\\u03B9',\r\n    '\\u03CC': '\\u03BF',\r\n    '\\u03CD': '\\u03C5',\r\n    '\\u03CB': '\\u03C5',\r\n    '\\u03B0': '\\u03C5',\r\n    '\\u03C9': '\\u03C9',\r\n    '\\u03C2': '\\u03C3'\r\n};\r\n\r\nexport function stripSpecialChars(text: string): string {\r\n    const match = (a: string): string => diacritics[a] || a;\r\n    return text.replace(/[^\\u0000-\\u007E]/g, match);\r\n}\r\n","import { newId } from './id';\r\nimport { NgSelectComponent } from './ng-select.component';\r\nimport { NgOption } from './ng-select.types';\r\nimport * as searchHelper from './search-helper';\r\nimport { SelectionModel } from './selection-model';\r\nimport { isDefined, isFunction, isObject } from './value-utils';\r\n\r\ntype OptionGroups = Map<string | NgOption, NgOption[]>;\r\n\r\nexport class ItemsList {\r\n    private _groups: OptionGroups;\r\n\r\n    constructor(\r\n        private _ngSelect: NgSelectComponent,\r\n        private _selectionModel: SelectionModel) {\r\n    }\r\n\r\n    private _items: NgOption[] = [];\r\n\r\n    get items(): NgOption[] {\r\n        return this._items;\r\n    }\r\n\r\n    private _filteredItems: NgOption[] = [];\r\n\r\n    get filteredItems(): NgOption[] {\r\n        return this._filteredItems;\r\n    }\r\n\r\n    private _markedIndex = -1;\r\n\r\n    get markedIndex(): number {\r\n        return this._markedIndex;\r\n    }\r\n\r\n    get selectedItems() {\r\n        return this._selectionModel.value;\r\n    }\r\n\r\n    get markedItem(): NgOption {\r\n        return this._filteredItems[this._markedIndex];\r\n    }\r\n\r\n    get noItemsToSelect(): boolean {\r\n        return this._ngSelect.hideSelected && this._items.length === this.selectedItems.length;\r\n    }\r\n\r\n    get maxItemsSelected(): boolean {\r\n        return this._ngSelect.multiple && this._ngSelect.maxSelectedItems <= this.selectedItems.length;\r\n    }\r\n\r\n    get lastSelectedItem() {\r\n        let i = this.selectedItems.length - 1;\r\n        for (; i >= 0; i--) {\r\n            const item = this.selectedItems[i];\r\n            if (!item.disabled) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    setItems(items: any[]) {\r\n        this._items = items.map((item, index) => this.mapItem(item, index));\r\n        if (this._ngSelect.groupBy) {\r\n            this._groups = this._groupBy(this._items, this._ngSelect.groupBy);\r\n            this._items = this._flatten(this._groups);\r\n        } else {\r\n            this._groups = new Map();\r\n            this._groups.set(undefined, this._items)\r\n        }\r\n        this._filteredItems = [...this._items];\r\n    }\r\n\r\n    select(item: NgOption) {\r\n        if (item.selected || this.maxItemsSelected) {\r\n            return;\r\n        }\r\n        const multiple = this._ngSelect.multiple;\r\n        if (!multiple) {\r\n            this.clearSelected();\r\n        }\r\n\r\n        this._selectionModel.select(item, multiple, this._ngSelect.selectableGroupAsModel);\r\n        if (this._ngSelect.hideSelected) {\r\n            this._hideSelected(item);\r\n        }\r\n    }\r\n\r\n    unselect(item: NgOption) {\r\n        if (!item.selected) {\r\n            return;\r\n        }\r\n        this._selectionModel.unselect(item, this._ngSelect.multiple);\r\n        if (this._ngSelect.hideSelected && isDefined(item.index) && this._ngSelect.multiple) {\r\n            this._showSelected(item);\r\n        }\r\n    }\r\n\r\n    findItem(value: any): NgOption {\r\n        let findBy: (item: NgOption) => boolean;\r\n        if (this._ngSelect.compareWith) {\r\n            findBy = item => this._ngSelect.compareWith(item.value, value)\r\n        } else if (this._ngSelect.bindValue) {\r\n            findBy = item => !item.children && this.resolveNested(item.value, this._ngSelect.bindValue) === value\r\n        } else {\r\n            findBy = item => item.value === value ||\r\n                !item.children && item.label && item.label === this.resolveNested(value, this._ngSelect.bindLabel)\r\n        }\r\n        return this._items.find(item => findBy(item));\r\n    }\r\n\r\n    addItem(item: any) {\r\n        const option = this.mapItem(item, this._items.length);\r\n        this._items.push(option);\r\n        this._filteredItems.push(option);\r\n        return option;\r\n    }\r\n\r\n    clearSelected(keepDisabled = false) {\r\n        this._selectionModel.clear(keepDisabled);\r\n        this._items.forEach(item => {\r\n            item.selected = keepDisabled && item.selected && item.disabled;\r\n            item.marked = false;\r\n        });\r\n        if (this._ngSelect.hideSelected) {\r\n            this.resetFilteredItems();\r\n        }\r\n    }\r\n\r\n    findByLabel(term: string) {\r\n        term = searchHelper.stripSpecialChars(term).toLocaleLowerCase();\r\n        return this.filteredItems.find(item => {\r\n            const label = searchHelper.stripSpecialChars(item.label).toLocaleLowerCase();\r\n            return label.substr(0, term.length) === term;\r\n        });\r\n    }\r\n\r\n    filter(term: string): void {\r\n        if (!term) {\r\n            this.resetFilteredItems();\r\n            return;\r\n        }\r\n\r\n        this._filteredItems = [];\r\n        term = this._ngSelect.searchFn ? term : searchHelper.stripSpecialChars(term).toLocaleLowerCase();\r\n        const match = this._ngSelect.searchFn || this._defaultSearchFn;\r\n        const hideSelected = this._ngSelect.hideSelected;\r\n\r\n        for (const key of Array.from(this._groups.keys())) {\r\n            const matchedItems = [];\r\n            for (const item of this._groups.get(key)) {\r\n                if (hideSelected && (item.parent && item.parent.selected || item.selected)) {\r\n                    continue;\r\n                }\r\n                const searchItem = this._ngSelect.searchFn ? item.value : item;\r\n                if (match(term, searchItem)) {\r\n                    matchedItems.push(item);\r\n                }\r\n            }\r\n            if (matchedItems.length > 0) {\r\n                const [last] = matchedItems.slice(-1);\r\n                if (last.parent) {\r\n                    const head = this._items.find(x => x === last.parent);\r\n                    this._filteredItems.push(head);\r\n                }\r\n                this._filteredItems.push(...matchedItems);\r\n            }\r\n        }\r\n    }\r\n\r\n    resetFilteredItems() {\r\n        if (this._filteredItems.length === this._items.length) {\r\n            return;\r\n        }\r\n\r\n        if (this._ngSelect.hideSelected && this.selectedItems.length > 0) {\r\n            this._filteredItems = this._items.filter(x => !x.selected);\r\n        } else {\r\n            this._filteredItems = this._items;\r\n        }\r\n    }\r\n\r\n    unmarkItem() {\r\n        this._markedIndex = -1;\r\n    }\r\n\r\n    markNextItem() {\r\n        this._stepToItem(+1);\r\n    }\r\n\r\n    markPreviousItem() {\r\n        this._stepToItem(-1);\r\n    }\r\n\r\n    markItem(item: NgOption) {\r\n        this._markedIndex = this._filteredItems.indexOf(item);\r\n    }\r\n\r\n    markSelectedOrDefault(markDefault?: boolean) {\r\n        if (this._filteredItems.length === 0) {\r\n            return;\r\n        }\r\n\r\n        const lastMarkedIndex = this._getLastMarkedIndex();\r\n        if (lastMarkedIndex > -1) {\r\n            this._markedIndex = lastMarkedIndex;\r\n        } else {\r\n            this._markedIndex = markDefault ? this.filteredItems.findIndex(x => !x.disabled) : -1;\r\n        }\r\n    }\r\n\r\n    resolveNested(option: any, key: string): any {\r\n        if (!isObject(option)) {\r\n            return option;\r\n        }\r\n        if (key.indexOf('.') === -1) {\r\n            return option[key];\r\n        } else {\r\n            const keys: string[] = key.split('.');\r\n            let value = option;\r\n            for (let i = 0, len = keys.length; i < len; ++i) {\r\n                if (value == null) {\r\n                    return null;\r\n                }\r\n                value = value[keys[i]];\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n\r\n    mapItem(item: any, index: number): NgOption {\r\n        const label = isDefined(item.$ngOptionLabel) ? item.$ngOptionLabel : this.resolveNested(item, this._ngSelect.bindLabel);\r\n        const value = isDefined(item.$ngOptionValue) ? item.$ngOptionValue : item;\r\n        return {\r\n            index,\r\n            label: isDefined(label) ? label.toString() : '',\r\n            value,\r\n            disabled: item.disabled,\r\n            htmlId: `${this._ngSelect.dropdownId}-${index}`,\r\n        };\r\n    }\r\n\r\n    mapSelectedItems() {\r\n        const multiple = this._ngSelect.multiple;\r\n        for (const selected of this.selectedItems) {\r\n            const value = this._ngSelect.bindValue ? this.resolveNested(selected.value, this._ngSelect.bindValue) : selected.value;\r\n            const item = isDefined(value) ? this.findItem(value) : null;\r\n            this._selectionModel.unselect(selected, multiple);\r\n            this._selectionModel.select(item || selected, multiple, this._ngSelect.selectableGroupAsModel);\r\n        }\r\n\r\n        if (this._ngSelect.hideSelected) {\r\n            this._filteredItems = this.filteredItems.filter(x => this.selectedItems.indexOf(x) === -1);\r\n        }\r\n    }\r\n\r\n    private _showSelected(item: NgOption) {\r\n        this._filteredItems.push(item);\r\n        if (item.parent) {\r\n            const parent = item.parent;\r\n            const parentExists = this._filteredItems.find(x => x === parent);\r\n            if (!parentExists) {\r\n                this._filteredItems.push(parent);\r\n            }\r\n        } else if (item.children) {\r\n            for (const child of item.children) {\r\n                child.selected = false;\r\n                this._filteredItems.push(child);\r\n            }\r\n        }\r\n        this._filteredItems = [...this._filteredItems.sort((a, b) => (a.index - b.index))];\r\n    }\r\n\r\n    private _hideSelected(item: NgOption) {\r\n        this._filteredItems = this._filteredItems.filter(x => x !== item);\r\n        if (item.parent) {\r\n            const children = item.parent.children;\r\n            if (children.every(x => x.selected)) {\r\n                this._filteredItems = this._filteredItems.filter(x => x !== item.parent);\r\n            }\r\n        } else if (item.children) {\r\n            this._filteredItems = this.filteredItems.filter(x => x.parent !== item);\r\n        }\r\n    }\r\n\r\n    private _defaultSearchFn(search: string, opt: NgOption) {\r\n        const label = searchHelper.stripSpecialChars(opt.label).toLocaleLowerCase();\r\n        return label.indexOf(search) > -1\r\n    }\r\n\r\n    private _getNextItemIndex(steps: number) {\r\n        if (steps > 0) {\r\n            return (this._markedIndex >= this._filteredItems.length - 1) ? 0 : (this._markedIndex + 1);\r\n        }\r\n        return (this._markedIndex <= 0) ? (this._filteredItems.length - 1) : (this._markedIndex - 1);\r\n    }\r\n\r\n    private _stepToItem(steps: number) {\r\n        if (this._filteredItems.length === 0 || this._filteredItems.every(x => x.disabled)) {\r\n            return;\r\n        }\r\n\r\n        this._markedIndex = this._getNextItemIndex(steps);\r\n        if (this.markedItem.disabled) {\r\n            this._stepToItem(steps);\r\n        }\r\n    }\r\n\r\n    private _getLastMarkedIndex() {\r\n        if (this._ngSelect.hideSelected) {\r\n            return -1;\r\n        }\r\n\r\n        if (this._markedIndex > -1 && this.markedItem === undefined) {\r\n            return -1;\r\n        }\r\n\r\n        const selectedIndex = this._filteredItems.indexOf(this.lastSelectedItem);\r\n        if (this.lastSelectedItem && selectedIndex < 0) {\r\n            return -1;\r\n        }\r\n\r\n        return Math.max(this.markedIndex, selectedIndex);\r\n    }\r\n\r\n    private _groupBy(items: NgOption[], prop: string | ((value: any) => any)): OptionGroups {\r\n        const groups = new Map<string | NgOption, NgOption[]>();\r\n        if (items.length === 0) {\r\n            return groups;\r\n        }\r\n\r\n        // Check if items are already grouped by given key.\r\n        if (Array.isArray(items[0].value[<string>prop])) {\r\n            for (const item of items) {\r\n                const children = (item.value[<string>prop] || []).map((x, index) => this.mapItem(x, index));\r\n                groups.set(item, children);\r\n            }\r\n            return groups;\r\n        }\r\n\r\n        const isFnKey = isFunction(this._ngSelect.groupBy);\r\n        const keyFn = (item: NgOption) => {\r\n            const key = isFnKey ? (<(value: any) => any>prop)(item.value) : item.value[<string>prop];\r\n            return isDefined(key) ? key : undefined;\r\n        };\r\n\r\n        // Group items by key.\r\n        for (const item of items) {\r\n            const key = keyFn(item);\r\n            const group = groups.get(key);\r\n            if (group) {\r\n                group.push(item);\r\n            } else {\r\n                groups.set(key, [item]);\r\n            }\r\n        }\r\n        return groups;\r\n    }\r\n\r\n    private _flatten(groups: OptionGroups) {\r\n        const isGroupByFn = isFunction(this._ngSelect.groupBy);\r\n        const items = [];\r\n        for (const key of Array.from(groups.keys())) {\r\n            let i = items.length;\r\n            if (key === undefined) {\r\n                const withoutGroup = groups.get(undefined) || [];\r\n                items.push(...withoutGroup.map(x => {\r\n                    x.index = i++;\r\n                    return x;\r\n                }));\r\n                continue;\r\n            }\r\n\r\n            const isObjectKey = isObject(key);\r\n            const parent: NgOption = {\r\n                label: isObjectKey ? '' : String(key),\r\n                children: undefined,\r\n                parent: null,\r\n                index: i++,\r\n                disabled: !this._ngSelect.selectableGroup,\r\n                htmlId: newId(),\r\n            };\r\n            const groupKey = isGroupByFn ? this._ngSelect.bindLabel : <string>this._ngSelect.groupBy;\r\n            const groupValue = this._ngSelect.groupValue || (() => {\r\n                if (isObjectKey) {\r\n                    return (<NgOption>key).value;\r\n                }\r\n                return { [groupKey]: key };\r\n            });\r\n            const children = groups.get(key).map(x => {\r\n                x.parent = parent;\r\n                x.children = undefined;\r\n                x.index = i++;\r\n                return x;\r\n            });\r\n            parent.children = children;\r\n            parent.value = groupValue(key, children.map(x => x.value));\r\n            items.push(parent);\r\n            items.push(...children);\r\n        }\r\n        return items;\r\n    }\r\n}\r\n","export interface NgOption {\r\n    [name: string]: any;\r\n\r\n    index?: number;\r\n    htmlId?: string;\r\n    selected?: boolean;\r\n    disabled?: boolean;\r\n    marked?: boolean;\r\n    label?: string;\r\n    value?: string | any;\r\n    parent?: NgOption;\r\n    children?: NgOption[];\r\n}\r\n\r\nexport enum KeyCode {\r\n    Tab = 9,\r\n    Enter = 13,\r\n    Esc = 27,\r\n    Space = 32,\r\n    ArrowUp = 38,\r\n    ArrowDown = 40,\r\n    Backspace = 8\r\n}\r\n\r\nexport type DropdownPosition = 'top' | 'right' | 'bottom' | 'left' | 'auto';\r\n","import { Injectable } from '@angular/core';\r\nexport interface ItemsRangeResult {\r\n    scrollHeight: number;\r\n    topPadding: number;\r\n    start: number;\r\n    end: number;\r\n}\r\n\r\nexport interface PanelDimensions {\r\n    itemHeight: number;\r\n    panelHeight: number;\r\n    itemsPerViewport: number;\r\n}\r\n\r\n@Injectable()\r\nexport class NgDropdownPanelService {\r\n\r\n    private _dimensions: PanelDimensions = {\r\n        itemHeight: 0,\r\n        panelHeight: 0,\r\n        itemsPerViewport: 0\r\n    };\r\n\r\n    get dimensions() {\r\n        return this._dimensions;\r\n    }\r\n\r\n    calculateItems(scrollPos: number, itemsLength: number, buffer: number): ItemsRangeResult {\r\n        const d = this._dimensions;\r\n        const scrollHeight = d.itemHeight * itemsLength;\r\n\r\n        const scrollTop = Math.max(0, scrollPos);\r\n        const indexByScrollTop = scrollTop / scrollHeight * itemsLength;\r\n        let end = Math.min(itemsLength, Math.ceil(indexByScrollTop) + (d.itemsPerViewport + 1));\r\n\r\n        const maxStartEnd = end;\r\n        const maxStart = Math.max(0, maxStartEnd - d.itemsPerViewport);\r\n        let start = Math.min(maxStart, Math.floor(indexByScrollTop));\r\n\r\n        let topPadding = d.itemHeight * Math.ceil(start) - (d.itemHeight * Math.min(start, buffer));\r\n        topPadding = !isNaN(topPadding) ? topPadding : 0;\r\n        start = !isNaN(start) ? start : -1;\r\n        end = !isNaN(end) ? end : -1;\r\n        start -= buffer;\r\n        start = Math.max(0, start);\r\n        end += buffer;\r\n        end = Math.min(itemsLength, end);\r\n\r\n        return {\r\n            topPadding,\r\n            scrollHeight,\r\n            start,\r\n            end\r\n        }\r\n    }\r\n\r\n    setDimensions(itemHeight: number, panelHeight: number) {\r\n        const itemsPerViewport = Math.max(1, Math.floor(panelHeight / itemHeight));\r\n        this._dimensions = {\r\n            itemHeight,\r\n            panelHeight,\r\n            itemsPerViewport\r\n        };\r\n    }\r\n\r\n    getScrollTo(itemTop: number, itemHeight: number, lastScroll: number) {\r\n        const { panelHeight } = this.dimensions;\r\n        const itemBottom = itemTop + itemHeight;\r\n        const top = lastScroll;\r\n        const bottom = top + panelHeight;\r\n\r\n        if (panelHeight >= itemBottom && lastScroll === itemTop) {\r\n            return null;\r\n        }\r\n\r\n        if (itemBottom > bottom) {\r\n            return top + itemBottom - bottom;\r\n        } else if (itemTop <= top) {\r\n            return itemTop;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n    ChangeDetectionStrategy,\r\n    Component,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Inject,\r\n    Input,\r\n    NgZone,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    Optional,\r\n    Output,\r\n    Renderer2,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    ViewChild,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { animationFrameScheduler, asapScheduler, fromEvent, merge, Subject } from 'rxjs';\r\nimport { auditTime, takeUntil } from 'rxjs/operators';\r\nimport { NgDropdownPanelService, PanelDimensions } from './ng-dropdown-panel.service';\r\n\r\nimport { DropdownPosition } from './ng-select.types';\r\nimport { NgOption } from './ng-select.types';\r\nimport { isDefined } from './value-utils';\r\n\r\nconst CSS_POSITIONS: Readonly<string[]> = ['top', 'right', 'bottom', 'left'];\r\nconst SCROLL_SCHEDULER = typeof requestAnimationFrame !== 'undefined' ? animationFrameScheduler : asapScheduler;\r\n\r\n@Component({\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None,\r\n    selector: 'ng-dropdown-panel',\r\n    template: `\r\n        <div *ngIf=\"headerTemplate\" class=\"ng-dropdown-header\">\r\n            <ng-container [ngTemplateOutlet]=\"headerTemplate\" [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"></ng-container>\r\n        </div>\r\n        <div #scroll class=\"ng-dropdown-panel-items scroll-host\">\r\n            <div #padding [class.total-padding]=\"virtualScroll\"></div>\r\n            <div #content [class.scrollable-content]=\"virtualScroll && items.length\">\r\n                <ng-content></ng-content>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"footerTemplate\" class=\"ng-dropdown-footer\">\r\n            <ng-container [ngTemplateOutlet]=\"footerTemplate\" [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"></ng-container>\r\n        </div>\r\n    `\r\n})\r\nexport class NgDropdownPanelComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    @Input() items: NgOption[] = [];\r\n    @Input() markedItem: NgOption;\r\n    @Input() position: DropdownPosition = 'auto';\r\n    @Input() appendTo: string;\r\n    @Input() bufferAmount;\r\n    @Input() virtualScroll = false;\r\n    @Input() headerTemplate: TemplateRef<any>;\r\n    @Input() footerTemplate: TemplateRef<any>;\r\n    @Input() filterValue: string = null;\r\n\r\n    @Output() update = new EventEmitter<any[]>();\r\n    @Output() scroll = new EventEmitter<{ start: number; end: number }>();\r\n    @Output() scrollToEnd = new EventEmitter<void>();\r\n    @Output() outsideClick = new EventEmitter<void>();\r\n\r\n    @ViewChild('content', { read: ElementRef, static: true }) contentElementRef: ElementRef;\r\n    @ViewChild('scroll', { read: ElementRef, static: true }) scrollElementRef: ElementRef;\r\n    @ViewChild('padding', { read: ElementRef, static: true }) paddingElementRef: ElementRef;\r\n\r\n    private readonly _destroy$ = new Subject<void>();\r\n    private readonly _dropdown: HTMLElement;\r\n    private _virtualPadding: HTMLElement;\r\n    private _scrollablePanel: HTMLElement;\r\n    private _contentPanel: HTMLElement;\r\n    private _select: HTMLElement;\r\n    private _parent: HTMLElement;\r\n    private _scrollToEndFired = false;\r\n    private _updateScrollHeight = false;\r\n    private _lastScrollPosition = 0;\r\n\r\n    constructor(\r\n        private _renderer: Renderer2,\r\n        private _zone: NgZone,\r\n        private _panelService: NgDropdownPanelService,\r\n        _elementRef: ElementRef,\r\n        @Optional() @Inject(DOCUMENT) private _document: any\r\n    ) {\r\n        this._dropdown = _elementRef.nativeElement;\r\n    }\r\n\r\n    private _currentPosition: DropdownPosition;\r\n\r\n    get currentPosition(): DropdownPosition {\r\n        return this._currentPosition;\r\n    }\r\n\r\n    private _itemsLength: number;\r\n\r\n    private get itemsLength() {\r\n        return this._itemsLength;\r\n    }\r\n\r\n    private set itemsLength(value: number) {\r\n        if (value !== this._itemsLength) {\r\n            this._itemsLength = value;\r\n            this._onItemsLengthChanged();\r\n        }\r\n    }\r\n\r\n    private get _startOffset() {\r\n        if (this.markedItem) {\r\n            const { itemHeight, panelHeight } = this._panelService.dimensions;\r\n            const offset = this.markedItem.index * itemHeight;\r\n            return panelHeight > offset ? 0 : offset;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._select = this._dropdown.parentElement;\r\n        this._virtualPadding = this.paddingElementRef.nativeElement;\r\n        this._scrollablePanel = this.scrollElementRef.nativeElement;\r\n        this._contentPanel = this.contentElementRef.nativeElement;\r\n        this._handleScroll();\r\n        this._handleOutsideClick();\r\n        this._appendDropdown();\r\n        this._setupMousedownListener();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.items) {\r\n            const change = changes.items;\r\n            this._onItemsChange(change.currentValue, change.firstChange);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this._destroy$.next();\r\n        this._destroy$.complete();\r\n        this._destroy$.unsubscribe();\r\n        if (this.appendTo) {\r\n            this._renderer.removeChild(this._dropdown.parentNode, this._dropdown);\r\n        }\r\n    }\r\n\r\n    scrollTo(option: NgOption, startFromOption = false) {\r\n        if (!option) {\r\n            return;\r\n        }\r\n\r\n        const index = this.items.indexOf(option);\r\n        if (index < 0 || index >= this.itemsLength) {\r\n            return;\r\n        }\r\n\r\n        let scrollTo;\r\n        if (this.virtualScroll) {\r\n            const itemHeight = this._panelService.dimensions.itemHeight;\r\n            scrollTo = this._panelService.getScrollTo(index * itemHeight, itemHeight, this._lastScrollPosition);\r\n        } else {\r\n            const item: HTMLElement = this._dropdown.querySelector(`#${option.htmlId}`);\r\n            const lastScroll = startFromOption ? item.offsetTop : this._lastScrollPosition;\r\n            scrollTo = this._panelService.getScrollTo(item.offsetTop, item.clientHeight, lastScroll);\r\n        }\r\n\r\n        if (isDefined(scrollTo)) {\r\n            this._scrollablePanel.scrollTop = scrollTo;\r\n        }\r\n    }\r\n\r\n    scrollToTag() {\r\n        const panel = this._scrollablePanel;\r\n        panel.scrollTop = panel.scrollHeight - panel.clientHeight;\r\n    }\r\n\r\n    adjustPosition() {\r\n        this._updateYPosition();\r\n    }\r\n\r\n    private _handleDropdownPosition() {\r\n        this._currentPosition = this._calculateCurrentPosition(this._dropdown);\r\n        if (CSS_POSITIONS.includes(this._currentPosition)) {\r\n            this._updateDropdownClass(this._currentPosition);\r\n        } else {\r\n            this._updateDropdownClass('bottom');\r\n        }\r\n\r\n        if (this.appendTo) {\r\n            this._updateYPosition();\r\n        }\r\n\r\n        this._dropdown.style.opacity = '1';\r\n    }\r\n\r\n    private _updateDropdownClass(currentPosition: string) {\r\n        CSS_POSITIONS.forEach((position) => {\r\n            const REMOVE_CSS_CLASS = `ng-select-${position}`;\r\n            this._renderer.removeClass(this._dropdown, REMOVE_CSS_CLASS);\r\n            this._renderer.removeClass(this._select, REMOVE_CSS_CLASS);\r\n        });\r\n\r\n        const ADD_CSS_CLASS = `ng-select-${currentPosition}`;\r\n        this._renderer.addClass(this._dropdown, ADD_CSS_CLASS);\r\n        this._renderer.addClass(this._select, ADD_CSS_CLASS);\r\n    }\r\n\r\n    private _handleScroll() {\r\n        this._zone.runOutsideAngular(() => {\r\n            fromEvent(this.scrollElementRef.nativeElement, 'scroll')\r\n                .pipe(takeUntil(this._destroy$), auditTime(0, SCROLL_SCHEDULER))\r\n                .subscribe((e: { path, composedPath, target }) => {\r\n                    const path = e.path || (e.composedPath && e.composedPath());\r\n                    const scrollTop = !path || path.length === 0 ? e.target.scrollTop : path[0].scrollTop\r\n                    this._onContentScrolled(scrollTop);\r\n                });\r\n        });\r\n    }\r\n\r\n    private _handleOutsideClick() {\r\n        if (!this._document) {\r\n            return;\r\n        }\r\n\r\n        this._zone.runOutsideAngular(() => {\r\n            merge(\r\n                fromEvent(this._document, 'touchstart', { capture: true }),\r\n                fromEvent(this._document, 'mousedown', { capture: true })\r\n            ).pipe(takeUntil(this._destroy$))\r\n                .subscribe($event => this._checkToClose($event));\r\n        });\r\n    }\r\n\r\n    private _checkToClose($event: any) {\r\n        if (this._select.contains($event.target) || this._dropdown.contains($event.target)) {\r\n            return;\r\n        }\r\n\r\n        const path = $event.path || ($event.composedPath && $event.composedPath());\r\n        if ($event.target && $event.target.shadowRoot && path && path[0] && this._select.contains(path[0])) {\r\n            return;\r\n        }\r\n\r\n        this._zone.run(() => this.outsideClick.emit());\r\n    }\r\n\r\n    private _onItemsChange(items: NgOption[], firstChange: boolean) {\r\n        this.items = items || [];\r\n        this._scrollToEndFired = false;\r\n        this.itemsLength = items.length;\r\n\r\n        if (this.virtualScroll) {\r\n            this._updateItemsRange(firstChange);\r\n        } else {\r\n            this._setVirtualHeight();\r\n            this._updateItems(firstChange);\r\n        }\r\n    }\r\n\r\n    private _updateItems(firstChange: boolean) {\r\n        this.update.emit(this.items);\r\n        if (firstChange === false) {\r\n            return;\r\n        }\r\n\r\n        this._zone.runOutsideAngular(() => {\r\n            Promise.resolve().then(() => {\r\n                const panelHeight = this._scrollablePanel.clientHeight;\r\n                this._panelService.setDimensions(0, panelHeight);\r\n                this._handleDropdownPosition();\r\n                this.scrollTo(this.markedItem, firstChange);\r\n            });\r\n        });\r\n    }\r\n\r\n    private _updateItemsRange(firstChange: boolean) {\r\n        this._zone.runOutsideAngular(() => {\r\n            this._measureDimensions().then(() => {\r\n                if (firstChange) {\r\n                    this._renderItemsRange(this._startOffset);\r\n                    this._handleDropdownPosition();\r\n                } else {\r\n                    this._renderItemsRange();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _onContentScrolled(scrollTop: number) {\r\n        if (this.virtualScroll) {\r\n            this._renderItemsRange(scrollTop);\r\n        }\r\n        this._lastScrollPosition = scrollTop;\r\n        this._fireScrollToEnd(scrollTop);\r\n    }\r\n\r\n    private _updateVirtualHeight(height: number) {\r\n        if (this._updateScrollHeight) {\r\n            this._virtualPadding.style.height = `${height}px`;\r\n            this._updateScrollHeight = false;\r\n        }\r\n    }\r\n\r\n    private _setVirtualHeight() {\r\n\r\n        if (!this._virtualPadding) {\r\n            return;\r\n        }\r\n\r\n        this._virtualPadding.style.height = `0px`;\r\n    }\r\n\r\n    private _onItemsLengthChanged() {\r\n        this._updateScrollHeight = true;\r\n    }\r\n\r\n    private _renderItemsRange(scrollTop = null) {\r\n        if (scrollTop && this._lastScrollPosition === scrollTop) {\r\n            return;\r\n        }\r\n\r\n        scrollTop = scrollTop || this._scrollablePanel.scrollTop;\r\n        const range = this._panelService.calculateItems(scrollTop, this.itemsLength, this.bufferAmount);\r\n        this._updateVirtualHeight(range.scrollHeight);\r\n        this._contentPanel.style.transform = `translateY(${range.topPadding}px)`;\r\n\r\n        this._zone.run(() => {\r\n            this.update.emit(this.items.slice(range.start, range.end));\r\n            this.scroll.emit({ start: range.start, end: range.end });\r\n        });\r\n\r\n        if (isDefined(scrollTop) && this._lastScrollPosition === 0) {\r\n            this._scrollablePanel.scrollTop = scrollTop;\r\n            this._lastScrollPosition = scrollTop;\r\n        }\r\n    }\r\n\r\n    private _measureDimensions(): Promise<PanelDimensions> {\r\n        if (this._panelService.dimensions.itemHeight > 0 || this.itemsLength === 0) {\r\n            return Promise.resolve(this._panelService.dimensions);\r\n        }\r\n\r\n        const [first] = this.items;\r\n        this.update.emit([first]);\r\n\r\n        return Promise.resolve().then(() => {\r\n            const option = this._dropdown.querySelector(`#${first.htmlId}`);\r\n            const optionHeight = option.clientHeight;\r\n            this._virtualPadding.style.height = `${optionHeight * this.itemsLength}px`;\r\n            const panelHeight = this._scrollablePanel.clientHeight;\r\n            this._panelService.setDimensions(optionHeight, panelHeight);\r\n\r\n            return this._panelService.dimensions;\r\n        });\r\n    }\r\n\r\n    private _fireScrollToEnd(scrollTop: number) {\r\n        if (this._scrollToEndFired || scrollTop === 0) {\r\n            return;\r\n        }\r\n\r\n        const padding = this.virtualScroll ?\r\n            this._virtualPadding :\r\n            this._contentPanel;\r\n\r\n        if (scrollTop + this._dropdown.clientHeight >= padding.clientHeight - 1) {\r\n            this._zone.run(() => this.scrollToEnd.emit());\r\n            this._scrollToEndFired = true;\r\n        }\r\n    }\r\n\r\n    private _calculateCurrentPosition(dropdownEl: HTMLElement) {\r\n        if (this.position !== 'auto') {\r\n            return this.position;\r\n        }\r\n        const selectRect: ClientRect = this._select.getBoundingClientRect();\r\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n        const offsetTop = selectRect.top + window.pageYOffset;\r\n        const height = selectRect.height;\r\n        const dropdownHeight = dropdownEl.getBoundingClientRect().height;\r\n        if (offsetTop + height + dropdownHeight > scrollTop + document.documentElement.clientHeight) {\r\n            return 'top';\r\n        } else {\r\n            return 'bottom';\r\n        }\r\n    }\r\n\r\n    private _appendDropdown() {\r\n        if (!this.appendTo) {\r\n            return;\r\n        }\r\n\r\n        this._parent = document.querySelector(this.appendTo);\r\n        if (!this._parent) {\r\n            throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);\r\n        }\r\n        this._updateXPosition();\r\n        this._parent.appendChild(this._dropdown);\r\n    }\r\n\r\n    private _updateXPosition() {\r\n        const select = this._select.getBoundingClientRect();\r\n        const parent = this._parent.getBoundingClientRect();\r\n        const offsetLeft = select.left - parent.left;\r\n\r\n        this._dropdown.style.left = offsetLeft + 'px';\r\n        this._dropdown.style.width = select.width + 'px';\r\n        this._dropdown.style.minWidth = select.width + 'px';\r\n    }\r\n\r\n    private _updateYPosition() {\r\n        const select = this._select.getBoundingClientRect();\r\n        const parent = this._parent.getBoundingClientRect();\r\n        const delta = select.height;\r\n\r\n        if (this._currentPosition === 'top') {\r\n            const offsetBottom = parent.bottom - select.bottom;\r\n            this._dropdown.style.bottom = offsetBottom + delta + 'px';\r\n            this._dropdown.style.top = 'auto';\r\n        } else if (this._currentPosition === 'bottom') {\r\n            const offsetTop = select.top - parent.top;\r\n            this._dropdown.style.top = offsetTop + delta + 'px';\r\n            this._dropdown.style.bottom = 'auto';\r\n        }\r\n    }\r\n\r\n    private _setupMousedownListener(): void {\r\n        this._zone.runOutsideAngular(() => {\r\n            fromEvent(this._dropdown, 'mousedown')\r\n                .pipe(takeUntil(this._destroy$))\r\n                .subscribe((event: MouseEvent) => {\r\n                    const target = event.target as HTMLElement;\r\n                    if (target.tagName === 'INPUT') {\r\n                        return;\r\n                    }\r\n                    event.preventDefault();\r\n                });\r\n        });\r\n    }\r\n}\r\n","import {\r\n    AfterViewChecked,\r\n    ChangeDetectionStrategy,\r\n    Component,\r\n    ElementRef,\r\n    Input,\r\n    OnChanges,\r\n    OnDestroy,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'ng-option',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    template: `<ng-content></ng-content>`\r\n})\r\nexport class NgOptionComponent implements OnChanges, AfterViewChecked, OnDestroy {\r\n\r\n    @Input() value: any;\r\n    @Input()\r\n    get disabled() { return this._disabled; }\r\n    set disabled(value: any) { this._disabled = this._isDisabled(value) }\r\n\r\n    readonly stateChange$ = new Subject<{ value: any, disabled: boolean, label?: string }>();\r\n\r\n    private _disabled = false;\r\n    private _previousLabel: string;\r\n\r\n    constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n\r\n    get label(): string {\r\n        return (this.elementRef.nativeElement.textContent || '').trim();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.disabled) {\r\n            this.stateChange$.next({\r\n                value: this.value,\r\n                disabled: this._disabled\r\n            });\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if (this.label !== this._previousLabel) {\r\n            this._previousLabel = this.label;\r\n            this.stateChange$.next({\r\n                value: this.value,\r\n                disabled: this._disabled,\r\n                label: this.elementRef.nativeElement.innerHTML\r\n            });\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.stateChange$.complete();\r\n    }\r\n\r\n    private _isDisabled(value) {\r\n        return value != null && `${value}` !== 'false';\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class NgSelectConfig {\r\n    placeholder: string;\r\n    notFoundText = 'No items found';\r\n    typeToSearchText = 'Type to search';\r\n    addTagText = 'Add item';\r\n    loadingText = 'Loading...';\r\n    clearAllText = 'Clear all';\r\n    disableVirtualScroll = true;\r\n    openOnEnter = true;\r\n    appendTo: string;\r\n    bindValue: string;\r\n    bindLabel: string;\r\n    appearance = 'underline';\r\n    clearSearchOnAdd: boolean;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ConsoleService {\r\n    warn(message: string) {\r\n        console.warn(message)\r\n    }\r\n}\r\n","import {\r\n    Component,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    AfterViewInit,\r\n    forwardRef,\r\n    ChangeDetectorRef,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    ContentChild,\r\n    TemplateRef,\r\n    ViewEncapsulation,\r\n    HostListener,\r\n    HostBinding,\r\n    ViewChild,\r\n    ElementRef,\r\n    ChangeDetectionStrategy,\r\n    Inject,\r\n    SimpleChanges,\r\n    ContentChildren,\r\n    QueryList,\r\n    InjectionToken,\r\n    Attribute\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { takeUntil, startWith, tap, debounceTime, map, filter } from 'rxjs/operators';\r\nimport { Subject, merge } from 'rxjs';\r\n\r\nimport {\r\n    NgOptionTemplateDirective,\r\n    NgLabelTemplateDirective,\r\n    NgHeaderTemplateDirective,\r\n    NgFooterTemplateDirective,\r\n    NgOptgroupTemplateDirective,\r\n    NgNotFoundTemplateDirective,\r\n    NgTypeToSearchTemplateDirective,\r\n    NgLoadingTextTemplateDirective,\r\n    NgMultiLabelTemplateDirective,\r\n    NgTagTemplateDirective,\r\n    NgLoadingSpinnerTemplateDirective\r\n} from './ng-templates.directive';\r\n\r\nimport { ConsoleService } from './console.service';\r\nimport { isDefined, isFunction, isPromise, isObject } from './value-utils';\r\nimport { ItemsList } from './items-list';\r\nimport { NgOption, KeyCode, DropdownPosition } from './ng-select.types';\r\nimport { newId } from './id';\r\nimport { NgDropdownPanelComponent } from './ng-dropdown-panel.component';\r\nimport { NgOptionComponent } from './ng-option.component';\r\nimport { SelectionModelFactory } from './selection-model';\r\nimport { NgSelectConfig } from './config.service';\r\nimport { NgDropdownPanelService } from './ng-dropdown-panel.service';\r\n\r\nexport const SELECTION_MODEL_FACTORY = new InjectionToken<SelectionModelFactory>('ng-select-selection-model');\r\nexport type AddTagFn = ((term: string) => any | Promise<any>);\r\nexport type CompareWithFn = (a: any, b: any) => boolean;\r\nexport type GroupValueFn = (key: string | any, children: any[]) => string | any;\r\n\r\n@Component({\r\n    selector: 'ng-select',\r\n    templateUrl: './ng-select.component.html',\r\n    styleUrls: ['./ng-select.component.scss'],\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => NgSelectComponent),\r\n        multi: true\r\n    }, NgDropdownPanelService],\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class NgSelectComponent implements OnDestroy, OnChanges, OnInit, AfterViewInit, ControlValueAccessor {\r\n\r\n    @Input() bindLabel: string;\r\n    @Input() bindValue: string;\r\n    @Input() markFirst = true;\r\n    @Input() placeholder: string;\r\n    @Input() notFoundText: string;\r\n    @Input() typeToSearchText: string;\r\n    @Input() addTagText: string;\r\n    @Input() loadingText: string;\r\n    @Input() clearAllText: string;\r\n    @Input() appearance: string;\r\n    @Input() dropdownPosition: DropdownPosition = 'auto';\r\n    @Input() appendTo: string;\r\n    @Input() loading = false;\r\n    @Input() closeOnSelect = true;\r\n    @Input() hideSelected = false;\r\n    @Input() selectOnTab = false;\r\n    @Input() openOnEnter: boolean;\r\n    @Input() maxSelectedItems: number;\r\n    @Input() groupBy: string | ((value: any) => any);\r\n    @Input() groupValue: GroupValueFn;\r\n    @Input() bufferAmount = 4;\r\n    @Input() virtualScroll: boolean;\r\n    @Input() selectableGroup = false;\r\n    @Input() selectableGroupAsModel = true;\r\n    @Input() searchFn = null;\r\n    @Input() trackByFn = null;\r\n    @Input() clearOnBackspace = true;\r\n    @Input() labelForId = null;\r\n    @Input() inputAttrs: { [key: string]: string } = {};\r\n    @Input() tabIndex: number;\r\n    @Input() readonly = false;\r\n    @Input() searchWhileComposing = true;\r\n    @Input() minTermLength = 0;\r\n    @Input() editableSearchTerm = false;\r\n    @Input() keyDownFn = (_: KeyboardEvent) => true;\r\n\r\n    @Input() @HostBinding('class.ng-select-typeahead') typeahead: Subject<string>;\r\n    @Input() @HostBinding('class.ng-select-multiple') multiple = false;\r\n    @Input() @HostBinding('class.ng-select-taggable') addTag: boolean | AddTagFn = false;\r\n    @Input() @HostBinding('class.ng-select-searchable') searchable = true;\r\n    @Input() @HostBinding('class.ng-select-clearable') clearable = true;\r\n    @Input() @HostBinding('class.ng-select-opened') isOpen = false;\r\n\r\n    @Input()\r\n    get items() { return this._items };\r\n\r\n    set items(value: any[] | null) {\r\n        if (value === null) {\r\n            value = [];\r\n        }\r\n        this._itemsAreUsed = true;\r\n        this._items = value;\r\n    };\r\n\r\n    @Input()\r\n    get compareWith() { return this._compareWith; }\r\n\r\n    set compareWith(fn: CompareWithFn) {\r\n        if (fn !== undefined && fn !== null && !isFunction(fn)) {\r\n            throw Error('`compareWith` must be a function.');\r\n        }\r\n        this._compareWith = fn;\r\n    }\r\n\r\n    @Input()\r\n    get clearSearchOnAdd() {\r\n        if (isDefined(this._clearSearchOnAdd)) {\r\n            return this._clearSearchOnAdd;\r\n        } else if (isDefined(this.config.clearSearchOnAdd)) {\r\n            return this.config.clearSearchOnAdd;\r\n        }\r\n        return this.closeOnSelect;\r\n    };\r\n\r\n    set clearSearchOnAdd(value) {\r\n        this._clearSearchOnAdd = value;\r\n    };\r\n\r\n    // output events\r\n    @Output('blur') blurEvent = new EventEmitter();\r\n    @Output('focus') focusEvent = new EventEmitter();\r\n    @Output('change') changeEvent = new EventEmitter();\r\n    @Output('open') openEvent = new EventEmitter();\r\n    @Output('close') closeEvent = new EventEmitter();\r\n    @Output('search') searchEvent = new EventEmitter<{ term: string, items: any[] }>();\r\n    @Output('clear') clearEvent = new EventEmitter();\r\n    @Output('add') addEvent = new EventEmitter();\r\n    @Output('remove') removeEvent = new EventEmitter();\r\n    @Output('scroll') scroll = new EventEmitter<{ start: number; end: number }>();\r\n    @Output('scrollToEnd') scrollToEnd = new EventEmitter();\r\n\r\n    // custom templates\r\n    @ContentChild(NgOptionTemplateDirective, { read: TemplateRef }) optionTemplate: TemplateRef<any>;\r\n    @ContentChild(NgOptgroupTemplateDirective, { read: TemplateRef }) optgroupTemplate: TemplateRef<any>;\r\n    @ContentChild(NgLabelTemplateDirective, { read: TemplateRef }) labelTemplate: TemplateRef<any>;\r\n    @ContentChild(NgMultiLabelTemplateDirective, { read: TemplateRef }) multiLabelTemplate: TemplateRef<any>;\r\n    @ContentChild(NgHeaderTemplateDirective, { read: TemplateRef }) headerTemplate: TemplateRef<any>;\r\n    @ContentChild(NgFooterTemplateDirective, { read: TemplateRef }) footerTemplate: TemplateRef<any>;\r\n    @ContentChild(NgNotFoundTemplateDirective, { read: TemplateRef }) notFoundTemplate: TemplateRef<any>;\r\n    @ContentChild(NgTypeToSearchTemplateDirective, { read: TemplateRef }) typeToSearchTemplate: TemplateRef<any>;\r\n    @ContentChild(NgLoadingTextTemplateDirective, { read: TemplateRef }) loadingTextTemplate: TemplateRef<any>;\r\n    @ContentChild(NgTagTemplateDirective, { read: TemplateRef }) tagTemplate: TemplateRef<any>;\r\n    @ContentChild(NgLoadingSpinnerTemplateDirective, { read: TemplateRef }) loadingSpinnerTemplate: TemplateRef<any>;\r\n\r\n    @ViewChild(forwardRef(() => NgDropdownPanelComponent)) dropdownPanel: NgDropdownPanelComponent;\r\n    @ViewChild('searchInput', { static: true }) searchInput: ElementRef<HTMLInputElement>;\r\n    @ContentChildren(NgOptionComponent, { descendants: true }) ngOptions: QueryList<NgOptionComponent>;\r\n\r\n    @HostBinding('class.ng-select') useDefaultClass = true;\r\n\r\n    @HostBinding('class.ng-select-disabled') get disabled() { return this.readonly || this._disabled };\r\n\r\n    @HostBinding('class.ng-select-filtered') get filtered() { return (!!this.searchTerm && this.searchable || this._isComposing) };\r\n\r\n    @HostBinding('class.ng-select-single') get single() { return !this.multiple };\r\n\r\n    itemsList: ItemsList;\r\n    viewPortItems: NgOption[] = [];\r\n    searchTerm: string = null;\r\n    dropdownId = newId();\r\n    element: HTMLElement;\r\n    focused: boolean;\r\n    escapeHTML = true;\r\n\r\n    private _items = [];\r\n    private _itemsAreUsed: boolean;\r\n    private _defaultLabel = 'label';\r\n    private _primitive;\r\n    private _manualOpen: boolean;\r\n    private _disabled: boolean;\r\n    private _pressedKeys: string[] = [];\r\n    private _compareWith: CompareWithFn;\r\n    private _clearSearchOnAdd: boolean;\r\n    private _isComposing = false;\r\n\r\n    private get _editableSearchTerm(): boolean {\r\n        return this.editableSearchTerm && !this.multiple;\r\n    }\r\n\r\n    private readonly _destroy$ = new Subject<void>();\r\n    private readonly _keyPress$ = new Subject<string>();\r\n    private _onChange = (_: any) => { };\r\n    private _onTouched = () => { };\r\n\r\n    clearItem = (item: any) => {\r\n        const option = this.selectedItems.find(x => x.value === item);\r\n        this.unselect(option);\r\n    };\r\n\r\n    constructor(\r\n        @Attribute('class') public classes: string,\r\n        @Attribute('autofocus') private autoFocus: any,\r\n        public config: NgSelectConfig,\r\n        @Inject(SELECTION_MODEL_FACTORY) newSelectionModel: SelectionModelFactory,\r\n        _elementRef: ElementRef<HTMLElement>,\r\n        private _cd: ChangeDetectorRef,\r\n        private _console: ConsoleService\r\n    ) {\r\n        this._mergeGlobalConfig(config);\r\n        this.itemsList = new ItemsList(this, newSelectionModel());\r\n        this.element = _elementRef.nativeElement;\r\n    }\r\n\r\n    get selectedItems(): NgOption[] {\r\n        return this.itemsList.selectedItems;\r\n    }\r\n\r\n    get selectedValues() {\r\n        return this.selectedItems.map(x => x.value);\r\n    }\r\n\r\n    get hasValue() {\r\n        return this.selectedItems.length > 0;\r\n    }\r\n\r\n    get currentPanelPosition(): DropdownPosition {\r\n        if (this.dropdownPanel) {\r\n            return this.dropdownPanel.currentPosition;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._handleKeyPresses();\r\n        this._setInputAttributes();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.multiple) {\r\n            this.itemsList.clearSelected();\r\n        }\r\n        if (changes.items) {\r\n            this._setItems(changes.items.currentValue || []);\r\n        }\r\n        if (changes.isOpen) {\r\n            this._manualOpen = isDefined(changes.isOpen.currentValue);\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (!this._itemsAreUsed) {\r\n            this.escapeHTML = false;\r\n            this._setItemsFromNgOptions();\r\n        }\r\n\r\n        if (isDefined(this.autoFocus)) {\r\n            this.focus();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this._destroy$.next();\r\n        this._destroy$.complete();\r\n    }\r\n\r\n    @HostListener('keydown', ['$event'])\r\n    handleKeyDown($event: KeyboardEvent) {\r\n        const keyCode = KeyCode[$event.which];\r\n        if (keyCode) {\r\n            if (this.keyDownFn($event) === false) {\r\n                return;\r\n            }\r\n            this.handleKeyCode($event)\r\n        } else if ($event.key && $event.key.length === 1) {\r\n            this._keyPress$.next($event.key.toLocaleLowerCase());\r\n        }\r\n    }\r\n\r\n    handleKeyCode($event: KeyboardEvent) {\r\n        switch ($event.which) {\r\n        case KeyCode.ArrowDown:\r\n            this._handleArrowDown($event);\r\n            break;\r\n        case KeyCode.ArrowUp:\r\n            this._handleArrowUp($event);\r\n            break;\r\n        case KeyCode.Space:\r\n            this._handleSpace($event);\r\n            break;\r\n        case KeyCode.Enter:\r\n            this._handleEnter($event);\r\n            break;\r\n        case KeyCode.Tab:\r\n            this._handleTab($event);\r\n            break;\r\n        case KeyCode.Esc:\r\n            this.close();\r\n            $event.preventDefault();\r\n            break;\r\n        case KeyCode.Backspace:\r\n            this._handleBackspace();\r\n            break\r\n        }\r\n    }\r\n\r\n    handleMousedown($event: MouseEvent) {\r\n        const target = $event.target as HTMLElement;\r\n        if (target.tagName !== 'INPUT') {\r\n            $event.preventDefault();\r\n        }\r\n\r\n        if (target.classList.contains('ng-clear-wrapper')) {\r\n            this.handleClearClick();\r\n            return;\r\n        }\r\n\r\n        if (target.classList.contains('ng-arrow-wrapper')) {\r\n            this.handleArrowClick();\r\n            return;\r\n        }\r\n\r\n        if (target.classList.contains('ng-value-icon')) {\r\n            return;\r\n        }\r\n\r\n        if (!this.focused) {\r\n            this.focus();\r\n        }\r\n\r\n        if (this.searchable) {\r\n            this.open();\r\n        } else {\r\n            this.toggle();\r\n        }\r\n    }\r\n\r\n    handleArrowClick() {\r\n        if (this.isOpen) {\r\n            this.close();\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    handleClearClick() {\r\n        if (this.hasValue) {\r\n            this.itemsList.clearSelected(true);\r\n            this._updateNgModel();\r\n        }\r\n        this._clearSearch();\r\n        this.focus();\r\n        this.clearEvent.emit();\r\n\r\n        this._onSelectionChanged();\r\n    }\r\n\r\n    clearModel() {\r\n        if (!this.clearable) {\r\n            return;\r\n        }\r\n        this.itemsList.clearSelected();\r\n        this._updateNgModel();\r\n    }\r\n\r\n    writeValue(value: any | any[]): void {\r\n        this.itemsList.clearSelected();\r\n        this._handleWriteValue(value);\r\n        this._cd.markForCheck();\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this._onChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: any): void {\r\n        this._onTouched = fn;\r\n    }\r\n\r\n    setDisabledState(state: boolean): void {\r\n        this._disabled = state;\r\n        this._cd.markForCheck();\r\n    }\r\n\r\n    toggle() {\r\n        if (!this.isOpen) {\r\n            this.open();\r\n        } else {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    open() {\r\n        if (this.disabled || this.isOpen || this.itemsList.maxItemsSelected || this._manualOpen) {\r\n            return;\r\n        }\r\n\r\n        if (!this._isTypeahead && !this.addTag && this.itemsList.noItemsToSelect) {\r\n            return;\r\n        }\r\n        this.isOpen = true;\r\n        this.itemsList.markSelectedOrDefault(this.markFirst);\r\n        this.openEvent.emit();\r\n        if (!this.searchTerm) {\r\n            this.focus();\r\n        }\r\n        this.detectChanges();\r\n    }\r\n\r\n    close() {\r\n        if (!this.isOpen || this._manualOpen) {\r\n            return;\r\n        }\r\n        this.isOpen = false;\r\n        this._isComposing = false;\r\n        if (!this._editableSearchTerm) {\r\n            this._clearSearch();\r\n        } else {\r\n            this.itemsList.resetFilteredItems();\r\n        }\r\n        this.itemsList.unmarkItem();\r\n        this._onTouched();\r\n        this.closeEvent.emit();\r\n        this._cd.markForCheck();\r\n    }\r\n\r\n    toggleItem(item: NgOption) {\r\n        if (!item || item.disabled || this.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (this.multiple && item.selected) {\r\n            this.unselect(item);\r\n        } else {\r\n            this.select(item);\r\n        }\r\n\r\n        if (this._editableSearchTerm) {\r\n            this._setSearchTermFromItems();\r\n        }\r\n\r\n        this._onSelectionChanged();\r\n    }\r\n\r\n    select(item: NgOption) {\r\n        if (!item.selected) {\r\n            this.itemsList.select(item);\r\n            if (this.clearSearchOnAdd && !this._editableSearchTerm) {\r\n                this._clearSearch();\r\n            }\r\n\r\n            this._updateNgModel();\r\n            if (this.multiple) {\r\n                this.addEvent.emit(item.value);\r\n            }\r\n        }\r\n\r\n        if (this.closeOnSelect || this.itemsList.noItemsToSelect) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    focus() {\r\n        this.searchInput.nativeElement.focus();\r\n    }\r\n\r\n    blur() {\r\n        this.searchInput.nativeElement.blur();\r\n    }\r\n\r\n    unselect(item: NgOption) {\r\n        if (!item) {\r\n            return;\r\n        }\r\n\r\n        this.itemsList.unselect(item);\r\n        this.focus();\r\n        this._updateNgModel();\r\n        this.removeEvent.emit(item);\r\n    }\r\n\r\n    selectTag() {\r\n        let tag;\r\n        if (isFunction(this.addTag)) {\r\n            tag = (<AddTagFn>this.addTag)(this.searchTerm);\r\n        } else {\r\n            tag = this._primitive ? this.searchTerm : { [this.bindLabel]: this.searchTerm };\r\n        }\r\n\r\n        const handleTag = (item) => this._isTypeahead || !this.isOpen ? this.itemsList.mapItem(item, null) : this.itemsList.addItem(item);\r\n        if (isPromise(tag)) {\r\n            tag.then(item => this.select(handleTag(item))).catch(() => { });\r\n        } else if (tag) {\r\n            this.select(handleTag(tag));\r\n        }\r\n    }\r\n\r\n    showClear() {\r\n        return this.clearable && (this.hasValue || this.searchTerm) && !this.disabled;\r\n    }\r\n\r\n    trackByOption = (_: number, item: NgOption) => {\r\n        if (this.trackByFn) {\r\n            return this.trackByFn(item.value);\r\n        }\r\n\r\n        return item;\r\n    };\r\n\r\n    get showAddTag() {\r\n        if (!this._validTerm) {\r\n            return false;\r\n        }\r\n\r\n        const term = this.searchTerm.toLowerCase().trim();\r\n        return this.addTag &&\r\n            (!this.itemsList.filteredItems.some(x => x.label.toLowerCase() === term) &&\r\n                (!this.hideSelected && this.isOpen || !this.selectedItems.some(x => x.label.toLowerCase() === term))) &&\r\n            !this.loading;\r\n    }\r\n\r\n    showNoItemsFound() {\r\n        const empty = this.itemsList.filteredItems.length === 0;\r\n        return ((empty && !this._isTypeahead && !this.loading) ||\r\n            (empty && this._isTypeahead && this._validTerm && !this.loading)) &&\r\n            !this.showAddTag;\r\n    }\r\n\r\n    showTypeToSearch() {\r\n        const empty = this.itemsList.filteredItems.length === 0;\r\n        return empty && this._isTypeahead && !this._validTerm && !this.loading;\r\n    }\r\n\r\n    onCompositionStart() {\r\n        this._isComposing = true;\r\n    }\r\n\r\n    onCompositionEnd(term: string) {\r\n        this._isComposing = false;\r\n        if (this.searchWhileComposing) {\r\n            return;\r\n        }\r\n\r\n        this.filter(term);\r\n    }\r\n\r\n    filter(term: string) {\r\n        if (this._isComposing && !this.searchWhileComposing) {\r\n            return;\r\n        }\r\n\r\n        this.searchTerm = term;\r\n        if (this._isTypeahead && (this._validTerm || this.minTermLength === 0)) {\r\n            this.typeahead.next(term);\r\n        }\r\n\r\n        if (!this._isTypeahead) {\r\n            this.itemsList.filter(this.searchTerm);\r\n            if (this.isOpen) {\r\n                this.itemsList.markSelectedOrDefault(this.markFirst);\r\n            }\r\n        }\r\n\r\n        this.searchEvent.emit({ term, items: this.itemsList.filteredItems.map(x => x.value) });\r\n        this.open();\r\n    }\r\n\r\n    onInputFocus($event) {\r\n        if (this.focused) {\r\n            return;\r\n        }\r\n\r\n        if (this._editableSearchTerm) {\r\n            this._setSearchTermFromItems();\r\n        }\r\n\r\n        this.element.classList.add('ng-select-focused');\r\n        this.focusEvent.emit($event);\r\n        this.focused = true;\r\n    }\r\n\r\n    onInputBlur($event) {\r\n        this.element.classList.remove('ng-select-focused');\r\n        this.blurEvent.emit($event);\r\n        if (!this.isOpen && !this.disabled) {\r\n            this._onTouched();\r\n        }\r\n        if (this._editableSearchTerm) {\r\n            this._setSearchTermFromItems();\r\n        }\r\n        this.focused = false;\r\n    }\r\n\r\n    onItemHover(item: NgOption) {\r\n        if (item.disabled) {\r\n            return;\r\n        }\r\n        this.itemsList.markItem(item);\r\n    }\r\n\r\n    detectChanges() {\r\n        if (!(<any>this._cd).destroyed) {\r\n            this._cd.detectChanges();\r\n        }\r\n    }\r\n\r\n    private _setSearchTermFromItems() {\r\n        const selected = this.selectedItems && this.selectedItems[0];\r\n        this.searchTerm = (selected && selected.label) || null;\r\n    }\r\n\r\n    private _setItems(items: any[]) {\r\n        const firstItem = items[0];\r\n        this.bindLabel = this.bindLabel || this._defaultLabel;\r\n        this._primitive = isDefined(firstItem) ? !isObject(firstItem) : this._primitive || this.bindLabel === this._defaultLabel;\r\n        this.itemsList.setItems(items);\r\n        if (items.length > 0 && this.hasValue) {\r\n            this.itemsList.mapSelectedItems();\r\n        }\r\n        if (this.isOpen && isDefined(this.searchTerm) && !this._isTypeahead) {\r\n            this.itemsList.filter(this.searchTerm);\r\n        }\r\n        if (this._isTypeahead || this.isOpen) {\r\n            this.itemsList.markSelectedOrDefault(this.markFirst);\r\n        }\r\n    }\r\n\r\n    private _setItemsFromNgOptions() {\r\n        const mapNgOptions = (options: QueryList<NgOptionComponent>) => {\r\n            this.items = options.map(option => ({\r\n                $ngOptionValue: option.value,\r\n                $ngOptionLabel: option.elementRef.nativeElement.innerHTML,\r\n                disabled: option.disabled\r\n            }));\r\n            this.itemsList.setItems(this.items);\r\n            if (this.hasValue) {\r\n                this.itemsList.mapSelectedItems();\r\n            }\r\n            this.detectChanges();\r\n        };\r\n\r\n        const handleOptionChange = () => {\r\n            const changedOrDestroyed = merge(this.ngOptions.changes, this._destroy$);\r\n            merge(...this.ngOptions.map(option => option.stateChange$))\r\n                .pipe(takeUntil(changedOrDestroyed))\r\n                .subscribe(option => {\r\n                    const item = this.itemsList.findItem(option.value);\r\n                    item.disabled = option.disabled;\r\n                    item.label = option.label || item.label;\r\n                    this._cd.detectChanges();\r\n                });\r\n        };\r\n\r\n        this.ngOptions.changes\r\n            .pipe(startWith(this.ngOptions), takeUntil(this._destroy$))\r\n            .subscribe(options => {\r\n                this.bindLabel = this._defaultLabel;\r\n                mapNgOptions(options);\r\n                handleOptionChange();\r\n            });\r\n    }\r\n\r\n    private _isValidWriteValue(value: any): boolean {\r\n        if (!isDefined(value) || (this.multiple && value === '') || Array.isArray(value) && value.length === 0) {\r\n            return false;\r\n        }\r\n\r\n        const validateBinding = (item: any): boolean => {\r\n            if (!isDefined(this.compareWith) && isObject(item) && this.bindValue) {\r\n                this._console.warn(\r\n                    `Setting object(${JSON.stringify(item)}) as your model with bindValue is not allowed unless [compareWith] is used.`\r\n                );\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n\r\n        if (this.multiple) {\r\n            if (!Array.isArray(value)) {\r\n                this._console.warn('Multiple select ngModel should be array.');\r\n                return false;\r\n            }\r\n            return value.every(item => validateBinding(item));\r\n        } else {\r\n            return validateBinding(value);\r\n        }\r\n    }\r\n\r\n    private _handleWriteValue(ngModel: any | any[]) {\r\n        if (!this._isValidWriteValue(ngModel)) {\r\n            return\r\n        }\r\n\r\n        const select = (val: any) => {\r\n            let item = this.itemsList.findItem(val);\r\n            if (item) {\r\n                this.itemsList.select(item);\r\n            } else {\r\n                const isValObject = isObject(val);\r\n                const isPrimitive = !isValObject && !this.bindValue;\r\n                if ((isValObject || isPrimitive)) {\r\n                    this.itemsList.select(this.itemsList.mapItem(val, null));\r\n                } else if (this.bindValue) {\r\n                    item = {\r\n                        [this.bindLabel]: null,\r\n                        [this.bindValue]: val\r\n                    };\r\n                    this.itemsList.select(this.itemsList.mapItem(item, null));\r\n                }\r\n            }\r\n        };\r\n\r\n        if (this.multiple) {\r\n            (<any[]>ngModel).forEach(item => select(item));\r\n        } else {\r\n            select(ngModel);\r\n        }\r\n    }\r\n\r\n    private _handleKeyPresses() {\r\n        if (this.searchable) {\r\n            return;\r\n        }\r\n\r\n        this._keyPress$\r\n            .pipe(takeUntil(this._destroy$),\r\n                tap(letter => this._pressedKeys.push(letter)),\r\n                debounceTime(200),\r\n                filter(() => this._pressedKeys.length > 0),\r\n                map(() => this._pressedKeys.join('')))\r\n            .subscribe(term => {\r\n                const item = this.itemsList.findByLabel(term);\r\n                if (item) {\r\n                    if (this.isOpen) {\r\n                        this.itemsList.markItem(item);\r\n                        this._scrollToMarked();\r\n                        this._cd.markForCheck();\r\n                    } else {\r\n                        this.select(item);\r\n                    }\r\n                }\r\n                this._pressedKeys = [];\r\n            });\r\n    }\r\n\r\n    private _setInputAttributes() {\r\n        const input = this.searchInput.nativeElement;\r\n        const attributes = {\r\n            type: 'text',\r\n            autocorrect: 'off',\r\n            autocapitalize: 'off',\r\n            autocomplete: this.labelForId ? 'off' : this.dropdownId,\r\n            ...this.inputAttrs\r\n        };\r\n\r\n        for (const key of Object.keys(attributes)) {\r\n            input.setAttribute(key, attributes[key]);\r\n        }\r\n    }\r\n\r\n    private _updateNgModel() {\r\n        const model = [];\r\n        for (const item of this.selectedItems) {\r\n            if (this.bindValue) {\r\n                let value = null;\r\n                if (item.children) {\r\n                    const groupKey = this.groupValue ? this.bindValue : <string>this.groupBy;\r\n                    value = item.value[groupKey || <string>this.groupBy];\r\n                } else {\r\n                    value = this.itemsList.resolveNested(item.value, this.bindValue);\r\n                }\r\n                model.push(value);\r\n            } else {\r\n                model.push(item.value);\r\n            }\r\n        }\r\n\r\n        const selected = this.selectedItems.map(x => x.value);\r\n        if (this.multiple) {\r\n            this._onChange(model);\r\n            this.changeEvent.emit(selected);\r\n        } else {\r\n            this._onChange(isDefined(model[0]) ? model[0] : null);\r\n            this.changeEvent.emit(selected[0]);\r\n        }\r\n\r\n        this._cd.markForCheck();\r\n    }\r\n\r\n    private _clearSearch() {\r\n        if (!this.searchTerm) {\r\n            return;\r\n        }\r\n\r\n        this._changeSearch(null);\r\n        this.itemsList.resetFilteredItems();\r\n    }\r\n\r\n    private _changeSearch(searchTerm: string) {\r\n        this.searchTerm = searchTerm;\r\n        if (this._isTypeahead) {\r\n            this.typeahead.next(searchTerm);\r\n        }\r\n    }\r\n\r\n    private _scrollToMarked() {\r\n        if (!this.isOpen || !this.dropdownPanel) {\r\n            return;\r\n        }\r\n        this.dropdownPanel.scrollTo(this.itemsList.markedItem);\r\n    }\r\n\r\n    private _scrollToTag() {\r\n        if (!this.isOpen || !this.dropdownPanel) {\r\n            return;\r\n        }\r\n        this.dropdownPanel.scrollToTag();\r\n    }\r\n\r\n    private _onSelectionChanged() {\r\n        if (this.isOpen && this.multiple && this.appendTo) {\r\n            // Make sure items are rendered.\r\n            this._cd.detectChanges();\r\n            this.dropdownPanel.adjustPosition();\r\n        }\r\n    }\r\n\r\n    private _handleTab($event: KeyboardEvent) {\r\n        if (this.isOpen === false && !this.addTag) {\r\n            return;\r\n        }\r\n\r\n        if (this.selectOnTab) {\r\n            if (this.itemsList.markedItem) {\r\n                this.toggleItem(this.itemsList.markedItem);\r\n                $event.preventDefault();\r\n            } else if (this.showAddTag) {\r\n                this.selectTag();\r\n                $event.preventDefault();\r\n            } else {\r\n                this.close();\r\n            }\r\n        } else {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    private _handleEnter($event: KeyboardEvent) {\r\n        if (this.isOpen || this._manualOpen) {\r\n            if (this.itemsList.markedItem) {\r\n                this.toggleItem(this.itemsList.markedItem);\r\n            } else if (this.showAddTag) {\r\n                this.selectTag();\r\n            }\r\n        } else if (this.openOnEnter) {\r\n            this.open();\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        $event.preventDefault();\r\n    }\r\n\r\n    private _handleSpace($event: KeyboardEvent) {\r\n        if (this.isOpen || this._manualOpen) {\r\n            return;\r\n        }\r\n        this.open();\r\n        $event.preventDefault();\r\n    }\r\n\r\n    private _handleArrowDown($event: KeyboardEvent) {\r\n        if (this._nextItemIsTag(+1)) {\r\n            this.itemsList.unmarkItem();\r\n            this._scrollToTag();\r\n        } else {\r\n            this.itemsList.markNextItem();\r\n            this._scrollToMarked();\r\n        }\r\n        this.open();\r\n        $event.preventDefault();\r\n    }\r\n\r\n    private _handleArrowUp($event: KeyboardEvent) {\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n\r\n        if (this._nextItemIsTag(-1)) {\r\n            this.itemsList.unmarkItem();\r\n            this._scrollToTag();\r\n        } else {\r\n            this.itemsList.markPreviousItem();\r\n            this._scrollToMarked();\r\n        }\r\n        $event.preventDefault();\r\n    }\r\n\r\n    private _nextItemIsTag(nextStep: number): boolean {\r\n        const nextIndex = this.itemsList.markedIndex + nextStep;\r\n        return this.addTag && this.searchTerm\r\n            && this.itemsList.markedItem\r\n            && (nextIndex < 0 || nextIndex === this.itemsList.filteredItems.length)\r\n    }\r\n\r\n    private _handleBackspace() {\r\n        if (this.searchTerm || !this.clearable || !this.clearOnBackspace || !this.hasValue) {\r\n            return;\r\n        }\r\n\r\n        if (this.multiple) {\r\n            this.unselect(this.itemsList.lastSelectedItem);\r\n        } else {\r\n            this.clearModel();\r\n        }\r\n    }\r\n\r\n    private get _isTypeahead() {\r\n        return this.typeahead && this.typeahead.observers.length > 0;\r\n    }\r\n\r\n    private get _validTerm() {\r\n        const term = this.searchTerm && this.searchTerm.trim();\r\n        return term && term.length >= this.minTermLength;\r\n    }\r\n\r\n    private _mergeGlobalConfig(config: NgSelectConfig) {\r\n        this.placeholder = this.placeholder || config.placeholder;\r\n        this.notFoundText = this.notFoundText || config.notFoundText;\r\n        this.typeToSearchText = this.typeToSearchText || config.typeToSearchText;\r\n        this.addTagText = this.addTagText || config.addTagText;\r\n        this.loadingText = this.loadingText || config.loadingText;\r\n        this.clearAllText = this.clearAllText || config.clearAllText;\r\n        this.virtualScroll = isDefined(this.virtualScroll)\r\n            ? this.virtualScroll\r\n            : isDefined(config.disableVirtualScroll) ? !config.disableVirtualScroll : false;\r\n        this.openOnEnter = isDefined(this.openOnEnter) ? this.openOnEnter : config.openOnEnter;\r\n        this.appendTo = this.appendTo || config.appendTo;\r\n        this.bindValue = this.bindValue || config.bindValue;\r\n        this.bindLabel = this.bindLabel || config.bindLabel;\r\n        this.appearance = this.appearance || config.appearance;\r\n    }\r\n}\r\n","<div\r\n    (mousedown)=\"handleMousedown($event)\"\r\n    [class.ng-appearance-outline]=\"appearance === 'outline'\"\r\n    [class.ng-has-value]=\"hasValue\"\r\n    class=\"ng-select-container\">\r\n\r\n    <div class=\"ng-value-container\">\r\n        <div class=\"ng-placeholder\">{{placeholder}}</div>\r\n\r\n        <ng-container *ngIf=\"(!multiLabelTemplate  || !multiple ) && selectedItems.length > 0\">\r\n            <div [class.ng-value-disabled]=\"item.disabled\" class=\"ng-value\" *ngFor=\"let item of selectedItems; trackBy: trackByOption\">\r\n                <ng-template #defaultLabelTemplate>\r\n                    <span class=\"ng-value-icon left\" (click)=\"unselect(item);\" aria-hidden=\"true\"></span>\r\n                    <span class=\"ng-value-label\" [ngItemLabel]=\"item.label\" [escape]=\"escapeHTML\"></span>\r\n                </ng-template>\r\n\r\n                <ng-template\r\n                    [ngTemplateOutlet]=\"labelTemplate || defaultLabelTemplate\"\r\n                    [ngTemplateOutletContext]=\"{ item: item.value, clear: clearItem, label: item.label }\">\r\n                </ng-template>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <ng-template *ngIf=\"multiple && multiLabelTemplate && selectedValues.length > 0\"\r\n                [ngTemplateOutlet]=\"multiLabelTemplate\"\r\n                [ngTemplateOutletContext]=\"{ items: selectedValues, clear: clearItem }\">\r\n        </ng-template>\r\n\r\n        <div class=\"ng-input\"\r\n            role=\"combobox\" \r\n            [attr.aria-expanded]=\"isOpen\" \r\n            [attr.aria-owns]=\"isOpen ? dropdownId : null\" \r\n            aria-haspopup=\"listbox\">\r\n\r\n            <input #searchInput\r\n                   [attr.id]=\"labelForId\"\r\n                   [attr.tabindex]=\"tabIndex\"\r\n                   [readOnly]=\"!searchable || itemsList.maxItemsSelected\"\r\n                   [disabled]=\"disabled\"\r\n                   [value]=\"searchTerm ? searchTerm : ''\"\r\n                   (input)=\"filter(searchInput.value)\"\r\n                   (compositionstart)=\"onCompositionStart()\"\r\n                   (compositionend)=\"onCompositionEnd(searchInput.value)\"\r\n                   (focus)=\"onInputFocus($event)\"\r\n                   (blur)=\"onInputBlur($event)\"\r\n                   (change)=\"$event.stopPropagation()\"\r\n                   [attr.aria-activedescendant]=\"isOpen ? itemsList?.markedItem?.htmlId : null\"\r\n                   aria-autocomplete=\"list\"\r\n                   [attr.aria-controls]=\"isOpen ? dropdownId : null\">\r\n        </div>\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"loading\">\r\n        <ng-template #defaultLoadingSpinnerTemplate>\r\n            <div class=\"ng-spinner-loader\"></div>\r\n        </ng-template>\r\n\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"loadingSpinnerTemplate || defaultLoadingSpinnerTemplate\">\r\n        </ng-template>\r\n    </ng-container>\r\n\r\n    <span *ngIf=\"showClear()\" class=\"ng-clear-wrapper\" title=\"{{clearAllText}}\">\r\n        <span class=\"ng-clear\" aria-hidden=\"true\"></span>\r\n    </span>\r\n\r\n    <span class=\"ng-arrow-wrapper\">\r\n        <span class=\"ng-arrow\"></span>\r\n    </span>\r\n</div>\r\n\r\n<ng-dropdown-panel *ngIf=\"isOpen\"\r\n                   class=\"ng-dropdown-panel\"\r\n                   [virtualScroll]=\"virtualScroll\"\r\n                   [bufferAmount]=\"bufferAmount\"\r\n                   [appendTo]=\"appendTo\"\r\n                   [position]=\"dropdownPosition\"\r\n                   [headerTemplate]=\"headerTemplate\"\r\n                   [footerTemplate]=\"footerTemplate\"\r\n                   [filterValue]=\"searchTerm\"\r\n                   [items]=\"itemsList.filteredItems\"\r\n                   [markedItem]=\"itemsList.markedItem\"\r\n                   (update)=\"viewPortItems = $event\"\r\n                   (scroll)=\"scroll.emit($event)\"\r\n                   (scrollToEnd)=\"scrollToEnd.emit($event)\"\r\n                   (outsideClick)=\"close()\"\r\n                   [class.ng-select-multiple]=\"multiple\"\r\n                   [ngClass]=\"appendTo ? classes : null\"\r\n                   [id]=\"dropdownId\"\r\n                   role=\"listbox\"\r\n                   aria-label=\"Options list\">\r\n\r\n    <ng-container>\r\n        <div class=\"ng-option\" [attr.role]=\"item.children ? 'group' : 'option'\" (click)=\"toggleItem(item)\" (mouseover)=\"onItemHover(item)\"\r\n                *ngFor=\"let item of viewPortItems; trackBy: trackByOption\"\r\n                [class.ng-option-disabled]=\"item.disabled\"\r\n                [class.ng-option-selected]=\"item.selected\"\r\n                [class.ng-optgroup]=\"item.children\"\r\n                [class.ng-option]=\"!item.children\"\r\n                [class.ng-option-child]=\"!!item.parent\"\r\n                [class.ng-option-marked]=\"item === itemsList.markedItem\"\r\n                [attr.aria-selected]=\"item.selected\"\r\n                [attr.id]=\"item?.htmlId\">\r\n\r\n            <ng-template #defaultOptionTemplate>\r\n                <span class=\"ng-option-label\" [ngItemLabel]=\"item.label\" [escape]=\"escapeHTML\"></span>\r\n            </ng-template>\r\n\r\n            <ng-template\r\n                [ngTemplateOutlet]=\"item.children ? (optgroupTemplate || defaultOptionTemplate) : (optionTemplate || defaultOptionTemplate)\"\r\n                [ngTemplateOutletContext]=\"{ item: item.value, item$:item, index: item.index, searchTerm: searchTerm }\">\r\n            </ng-template>\r\n        </div>\r\n\r\n        <div class=\"ng-option\" [class.ng-option-marked]=\"!itemsList.markedItem\" (mouseover)=\"itemsList.unmarkItem()\" role=\"option\" (click)=\"selectTag()\" *ngIf=\"showAddTag\">\r\n            <ng-template #defaultTagTemplate>\r\n                <span><span class=\"ng-tag-label\">{{addTagText}}</span>\"{{searchTerm}}\"</span>\r\n            </ng-template>\r\n\r\n            <ng-template\r\n                [ngTemplateOutlet]=\"tagTemplate || defaultTagTemplate\"\r\n                [ngTemplateOutletContext]=\"{ searchTerm: searchTerm }\">\r\n            </ng-template>\r\n        </div>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"showNoItemsFound()\">\r\n        <ng-template #defaultNotFoundTemplate>\r\n            <div class=\"ng-option ng-option-disabled\">{{notFoundText}}</div>\r\n        </ng-template>\r\n\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"notFoundTemplate || defaultNotFoundTemplate\"\r\n            [ngTemplateOutletContext]=\"{ searchTerm: searchTerm }\">\r\n        </ng-template>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"showTypeToSearch()\">\r\n        <ng-template #defaultTypeToSearchTemplate>\r\n            <div class=\"ng-option ng-option-disabled\">{{typeToSearchText}}</div>\r\n        </ng-template>\r\n\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"typeToSearchTemplate || defaultTypeToSearchTemplate\">\r\n        </ng-template>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"loading && itemsList.filteredItems.length === 0\">\r\n        <ng-template #defaultLoadingTextTemplate>\r\n            <div class=\"ng-option ng-option-disabled\">{{loadingText}}</div>\r\n        </ng-template>\r\n\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"loadingTextTemplate || defaultLoadingTextTemplate\"\r\n            [ngTemplateOutletContext]=\"{ searchTerm: searchTerm }\">\r\n        </ng-template>\r\n    </ng-container>\r\n\r\n</ng-dropdown-panel>\r\n","import { NgOption } from './ng-select.types';\r\n\r\nexport type SelectionModelFactory = () => SelectionModel;\r\n\r\nexport function DefaultSelectionModelFactory() {\r\n    return new DefaultSelectionModel();\r\n}\r\n\r\nexport interface SelectionModel {\r\n    value: NgOption[];\r\n    select(item: NgOption, multiple: boolean, selectableGroupAsModel: boolean);\r\n    unselect(item: NgOption, multiple: boolean);\r\n    clear(keepDisabled: boolean);\r\n}\r\n\r\nexport class DefaultSelectionModel implements SelectionModel {\r\n    private _selected: NgOption[] = [];\r\n\r\n    get value(): NgOption[] {\r\n        return this._selected;\r\n    }\r\n\r\n    select(item: NgOption, multiple: boolean, groupAsModel: boolean) {\r\n        item.selected = true;\r\n        if (!item.children || (!multiple && groupAsModel)) {\r\n            this._selected.push(item);\r\n        }\r\n        if (multiple) {\r\n            if (item.parent) {\r\n                const childrenCount = item.parent.children.length;\r\n                const selectedCount = item.parent.children.filter(x => x.selected).length;\r\n                item.parent.selected = childrenCount === selectedCount;\r\n            } else if (item.children) {\r\n                this._setChildrenSelectedState(item.children, true);\r\n                this._removeChildren(item);\r\n                if (groupAsModel && this._activeChildren(item)) {\r\n                    this._selected = [...this._selected.filter(x => x.parent !== item), item]\r\n                } else {\r\n                    this._selected = [...this._selected, ...item.children.filter(x => !x.disabled)];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    unselect(item: NgOption, multiple: boolean) {\r\n        this._selected = this._selected.filter(x => x !== item);\r\n        item.selected = false;\r\n        if (multiple) {\r\n            if (item.parent && item.parent.selected) {\r\n                const children = item.parent.children;\r\n                this._removeParent(item.parent);\r\n                this._removeChildren(item.parent);\r\n                this._selected.push(...children.filter(x => x !== item && !x.disabled));\r\n                item.parent.selected = false;\r\n            } else if (item.children) {\r\n                this._setChildrenSelectedState(item.children, false);\r\n                this._removeChildren(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear(keepDisabled: boolean) {\r\n        this._selected = keepDisabled ? this._selected.filter(x => x.disabled) : [];\r\n    }\r\n\r\n    private _setChildrenSelectedState(children: NgOption[], selected: boolean) {\r\n        for (const child of children) {\r\n            if (child.disabled) {\r\n                continue;\r\n            }\r\n            child.selected = selected;\r\n        }\r\n    }\r\n\r\n    private _removeChildren(parent: NgOption) {\r\n        this._selected = [\r\n            ...this._selected.filter(x => x.parent !== parent),\r\n            ...parent.children.filter(x => x.parent === parent && x.disabled && x.selected)\r\n        ];\r\n    }\r\n\r\n    private _removeParent(parent: NgOption) {\r\n        this._selected = this._selected.filter(x => x !== parent)\r\n    }\r\n\r\n    private _activeChildren(item: NgOption): boolean {\r\n        return item.children.every(x => !x.disabled || x.selected);\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NgDropdownPanelComponent } from './ng-dropdown-panel.component';\r\nimport { NgOptionComponent } from './ng-option.component';\r\nimport { NgSelectComponent, SELECTION_MODEL_FACTORY } from './ng-select.component';\r\nimport {\r\n    NgFooterTemplateDirective,\r\n    NgHeaderTemplateDirective,\r\n    NgLabelTemplateDirective,\r\n    NgLoadingSpinnerTemplateDirective,\r\n    NgLoadingTextTemplateDirective,\r\n    NgMultiLabelTemplateDirective,\r\n    NgNotFoundTemplateDirective,\r\n    NgOptgroupTemplateDirective,\r\n    NgOptionTemplateDirective,\r\n    NgTagTemplateDirective,\r\n    NgItemLabelDirective,\r\n    NgTypeToSearchTemplateDirective\r\n} from './ng-templates.directive';\r\nimport { DefaultSelectionModelFactory } from './selection-model';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        NgDropdownPanelComponent,\r\n        NgOptionComponent,\r\n        NgSelectComponent,\r\n        NgOptgroupTemplateDirective,\r\n        NgOptionTemplateDirective,\r\n        NgLabelTemplateDirective,\r\n        NgMultiLabelTemplateDirective,\r\n        NgHeaderTemplateDirective,\r\n        NgFooterTemplateDirective,\r\n        NgNotFoundTemplateDirective,\r\n        NgTypeToSearchTemplateDirective,\r\n        NgLoadingTextTemplateDirective,\r\n        NgTagTemplateDirective,\r\n        NgLoadingSpinnerTemplateDirective,\r\n        NgItemLabelDirective\r\n    ],\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    exports: [\r\n        NgSelectComponent,\r\n        NgOptionComponent,\r\n        NgOptgroupTemplateDirective,\r\n        NgOptionTemplateDirective,\r\n        NgLabelTemplateDirective,\r\n        NgMultiLabelTemplateDirective,\r\n        NgHeaderTemplateDirective,\r\n        NgFooterTemplateDirective,\r\n        NgNotFoundTemplateDirective,\r\n        NgTypeToSearchTemplateDirective,\r\n        NgLoadingTextTemplateDirective,\r\n        NgTagTemplateDirective,\r\n        NgLoadingSpinnerTemplateDirective\r\n    ],\r\n    providers: [\r\n        { provide: SELECTION_MODEL_FACTORY, useValue: DefaultSelectionModelFactory }\r\n    ]\r\n})\r\nexport class NgSelectModule {}\r\n","/*\r\n * Public API Surface of ng-select\r\n */\r\n\r\nexport { NgSelectComponent, SELECTION_MODEL_FACTORY } from './lib/ng-select.component';\r\nexport { NgSelectModule } from './lib/ng-select.module';\r\nexport { NgOption, DropdownPosition } from './lib/ng-select.types';\r\nexport { SelectionModel } from './lib/selection-model';\r\nexport { NgSelectConfig } from './lib/config.service';\r\nexport { NgOptionComponent } from './lib/ng-option.component';\r\nexport {\r\n    NgOptgroupTemplateDirective,\r\n    NgOptionTemplateDirective,\r\n    NgFooterTemplateDirective,\r\n    NgHeaderTemplateDirective,\r\n    NgItemLabelDirective,\r\n    NgLabelTemplateDirective,\r\n    NgLoadingSpinnerTemplateDirective,\r\n    NgLoadingTextTemplateDirective,\r\n    NgMultiLabelTemplateDirective,\r\n    NgNotFoundTemplateDirective,\r\n    NgTagTemplateDirective,\r\n    NgTypeToSearchTemplateDirective\r\n} from './lib/ng-templates.directive';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["searchHelper.stripSpecialChars"],"mappings":"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,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,GAAG;IACb,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,QAAQ;CACrB,CAAC;SAEc,iBAAiB,CAAC,IAAY;IAC1C,MAAM,KAAK,GAAG,CAAC,CAAS,KAAa,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACxD,OAAO,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;AACpD;;MCp0Ba,SAAS;IAGlB,YACY,SAA4B,EAC5B,eAA+B;QAD/B,cAAS,GAAT,SAAS,CAAmB;QAC5B,oBAAe,GAAf,eAAe,CAAgB;QAGnC,WAAM,GAAe,EAAE,CAAC;QAMxB,mBAAc,GAAe,EAAE,CAAC;QAMhC,iBAAY,GAAG,CAAC,CAAC,CAAC;KAdzB;IAID,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB;IAID,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,cAAc,CAAC;KAC9B;IAID,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,YAAY,CAAC;KAC5B;IAED,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;KACrC;IAED,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KACjD;IAED,IAAI,eAAe;QACf,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;KAC1F;IAED,IAAI,gBAAgB;QAChB,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;KAClG;IAED,IAAI,gBAAgB;QAChB,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;QACtC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAChB,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,IAAI,CAAC;KACf;IAED,QAAQ,CAAC,KAAY;QACjB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;QACpE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAClE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC7C;aAAM;YACH,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;SAC3C;QACD,IAAI,CAAC,cAAc,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;KAC1C;IAED,MAAM,CAAC,IAAc;QACjB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACxC,OAAO;SACV;QACD,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;QACzC,IAAI,CAAC,QAAQ,EAAE;YACX,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;QAED,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;QACnF,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;YAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAC5B;KACJ;IAED,QAAQ,CAAC,IAAc;QACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,OAAO;SACV;QACD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC7D,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;YACjF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAC5B;KACJ;IAED,QAAQ,CAAC,KAAU;QACf,IAAI,MAAmC,CAAC;QACxC,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;YAC5B,MAAM,GAAG,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;SACjE;aAAM,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;YACjC,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,KAAK,CAAA;SACxG;aAAM;YACH,MAAM,GAAG,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK;gBACjC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;SACzG;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;KACjD;IAED,OAAO,CAAC,IAAS;QACb,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACjC,OAAO,MAAM,CAAC;KACjB;IAED,aAAa,CAAC,YAAY,GAAG,KAAK;QAC9B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI;YACpB,IAAI,CAAC,QAAQ,GAAG,YAAY,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC;YAC/D,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvB,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;YAC7B,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;KACJ;IAED,WAAW,CAAC,IAAY;QACpB,IAAI,GAAGA,iBAA8B,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,CAAC;QAChE,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI;YAC/B,MAAM,KAAK,GAAGA,iBAA8B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC7E,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC;SAChD,CAAC,CAAC;KACN;IAED,MAAM,CAAC,IAAY;QACf,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,OAAO;SACV;QAED,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,GAAGA,iBAA8B,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,CAAC;QACjG,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,IAAI,CAAC,gBAAgB,CAAC;QAC/D,MAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;QAEjD,KAAK,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE;YAC/C,MAAM,YAAY,GAAG,EAAE,CAAC;YACxB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBACtC,IAAI,YAAY,KAAK,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE;oBACxE,SAAS;iBACZ;gBACD,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC/D,IAAI,KAAK,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE;oBACzB,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC3B;aACJ;YACD,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzB,MAAM,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC;oBACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAClC;gBACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,CAAC;aAC7C;SACJ;KACJ;IAED,kBAAkB;QACd,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACnD,OAAO;SACV;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;SAC9D;aAAM;YACH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC;SACrC;KACJ;IAED,UAAU;QACN,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;KAC1B;IAED,YAAY;QACR,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;KACxB;IAED,gBAAgB;QACZ,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;KACxB;IAED,QAAQ,CAAC,IAAc;QACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KACzD;IAED,qBAAqB,CAAC,WAAqB;QACvC,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,OAAO;SACV;QAED,MAAM,eAAe,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACnD,IAAI,eAAe,GAAG,CAAC,CAAC,EAAE;YACtB,IAAI,CAAC,YAAY,GAAG,eAAe,CAAC;SACvC;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;SACzF;KACJ;IAED,aAAa,CAAC,MAAW,EAAE,GAAW;QAClC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YACnB,OAAO,MAAM,CAAC;SACjB;QACD,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;YACzB,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;SACtB;aAAM;YACH,MAAM,IAAI,GAAa,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtC,IAAI,KAAK,GAAG,MAAM,CAAC;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;gBAC7C,IAAI,KAAK,IAAI,IAAI,EAAE;oBACf,OAAO,IAAI,CAAC;iBACf;gBACD,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC1B;YACD,OAAO,KAAK,CAAC;SAChB;KACJ;IAED,OAAO,CAAC,IAAS,EAAE,KAAa;QAC5B,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QACxH,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC1E,OAAO;YACH,KAAK;YACL,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE;YAC/C,KAAK;YACL,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,IAAI,KAAK,EAAE;SAClD,CAAC;KACL;IAED,gBAAgB;QACZ,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;QACzC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE;YACvC,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;YACvH,MAAM,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;YAC5D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YAClD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;SAClG;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;YAC7B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SAC9F;KACJ;IAEO,aAAa,CAAC,IAAc;QAChC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC3B,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,MAAM,CAAC,CAAC;YACjE,IAAI,CAAC,YAAY,EAAE;gBACf,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACpC;SACJ;aAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;YACtB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAC/B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACnC;SACJ;QACD,IAAI,CAAC,cAAc,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KACtF;IAEO,aAAa,CAAC,IAAc;QAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;QAClE,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACtC,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE;gBACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC;aAC5E;SACJ;aAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;YACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC;SAC3E;KACJ;IAEO,gBAAgB,CAAC,MAAc,EAAE,GAAa;QAClD,MAAM,KAAK,GAAGA,iBAA8B,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,iBAAiB,EAAE,CAAC;QAC5E,OAAO,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAA;KACpC;IAEO,iBAAiB,CAAC,KAAa;QACnC,IAAI,KAAK,GAAG,CAAC,EAAE;YACX,OAAO,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;SAC9F;QACD,OAAO,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,KAAK,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;KAChG;IAEO,WAAW,CAAC,KAAa;QAC7B,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE;YAChF,OAAO;SACV;QAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAClD,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC3B;KACJ;IAEO,mBAAmB;QACvB,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;YAC7B,OAAO,CAAC,CAAC,CAAC;SACb;QAED,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE;YACzD,OAAO,CAAC,CAAC,CAAC;SACb;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACzE,IAAI,IAAI,CAAC,gBAAgB,IAAI,aAAa,GAAG,CAAC,EAAE;YAC5C,OAAO,CAAC,CAAC,CAAC;SACb;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;KACpD;IAEO,QAAQ,CAAC,KAAiB,EAAE,IAAoC;QACpE,MAAM,MAAM,GAAG,IAAI,GAAG,EAAiC,CAAC;QACxD,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,OAAO,MAAM,CAAC;SACjB;;QAGD,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAS,IAAI,CAAC,CAAC,EAAE;YAC7C,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;gBACtB,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,CAAS,IAAI,CAAC,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;gBAC5F,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;aAC9B;YACD,OAAO,MAAM,CAAC;SACjB;QAED,MAAM,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACnD,MAAM,KAAK,GAAG,CAAC,IAAc;YACzB,MAAM,GAAG,GAAG,OAAO,GAAyB,IAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAS,IAAI,CAAC,CAAC;YACzF,OAAO,SAAS,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC;SAC3C,CAAC;;QAGF,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACtB,MAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YACxB,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC9B,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACpB;iBAAM;gBACH,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;aAC3B;SACJ;QACD,OAAO,MAAM,CAAC;KACjB;IAEO,QAAQ,CAAC,MAAoB;QACjC,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACvD,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE;YACzC,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;YACrB,IAAI,GAAG,KAAK,SAAS,EAAE;gBACnB,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;gBACjD,KAAK,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;oBAC5B,CAAC,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC;oBACd,OAAO,CAAC,CAAC;iBACZ,CAAC,CAAC,CAAC;gBACJ,SAAS;aACZ;YAED,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;YAClC,MAAM,MAAM,GAAa;gBACrB,KAAK,EAAE,WAAW,GAAG,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC;gBACrC,QAAQ,EAAE,SAAS;gBACnB,MAAM,EAAE,IAAI;gBACZ,KAAK,EAAE,CAAC,EAAE;gBACV,QAAQ,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe;gBACzC,MAAM,EAAE,KAAK,EAAE;aAClB,CAAC;YACF,MAAM,QAAQ,GAAG,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,GAAW,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACzF,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,KAAK;gBAC7C,IAAI,WAAW,EAAE;oBACb,OAAkB,GAAI,CAAC,KAAK,CAAC;iBAChC;gBACD,OAAO,EAAE,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC;aAC9B,CAAC,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAClC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC;gBAClB,CAAC,CAAC,QAAQ,GAAG,SAAS,CAAC;gBACvB,CAAC,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC;gBACd,OAAO,CAAC,CAAC;aACZ,CAAC,CAAC;YACH,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC3B,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC3D,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnB,KAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC;SAC3B;QACD,OAAO,KAAK,CAAC;KAChB;;;ACpYL,IAAY,OAQX;AARD,WAAY,OAAO;IACf,mCAAO,CAAA;IACP,wCAAU,CAAA;IACV,oCAAQ,CAAA;IACR,wCAAU,CAAA;IACV,4CAAY,CAAA;IACZ,gDAAc,CAAA;IACd,+CAAa,CAAA;AACjB,CAAC,EARW,OAAO,KAAP,OAAO;;MCCN,sBAAsB;IADnC;QAGY,gBAAW,GAAoB;YACnC,UAAU,EAAE,CAAC;YACb,WAAW,EAAE,CAAC;YACd,gBAAgB,EAAE,CAAC;SACtB,CAAC;KA8DL;IA5DG,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B;IAED,cAAc,CAAC,SAAiB,EAAE,WAAmB,EAAE,MAAc;QACjE,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;QAC3B,MAAM,YAAY,GAAG,CAAC,CAAC,UAAU,GAAG,WAAW,CAAC;QAEhD,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;QACzC,MAAM,gBAAgB,GAAG,SAAS,GAAG,YAAY,GAAG,WAAW,CAAC;QAChE,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;QAExF,MAAM,WAAW,GAAG,GAAG,CAAC;QACxB,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;QAC/D,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAE7D,IAAI,UAAU,GAAG,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;QAC5F,UAAU,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,UAAU,GAAG,CAAC,CAAC;QACjD,KAAK,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;QACnC,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;QAC7B,KAAK,IAAI,MAAM,CAAC;QAChB,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3B,GAAG,IAAI,MAAM,CAAC;QACd,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;QAEjC,OAAO;YACH,UAAU;YACV,YAAY;YACZ,KAAK;YACL,GAAG;SACN,CAAA;KACJ;IAED,aAAa,CAAC,UAAkB,EAAE,WAAmB;QACjD,MAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,GAAG;YACf,UAAU;YACV,WAAW;YACX,gBAAgB;SACnB,CAAC;KACL;IAED,WAAW,CAAC,OAAe,EAAE,UAAkB,EAAE,UAAkB;QAC/D,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QACxC,MAAM,UAAU,GAAG,OAAO,GAAG,UAAU,CAAC;QACxC,MAAM,GAAG,GAAG,UAAU,CAAC;QACvB,MAAM,MAAM,GAAG,GAAG,GAAG,WAAW,CAAC;QAEjC,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,KAAK,OAAO,EAAE;YACrD,OAAO,IAAI,CAAC;SACf;QAED,IAAI,UAAU,GAAG,MAAM,EAAE;YACrB,OAAO,GAAG,GAAG,UAAU,GAAG,MAAM,CAAC;SACpC;aAAM,IAAI,OAAO,IAAI,GAAG,EAAE;YACvB,OAAO,OAAO,CAAC;SAClB;QAED,OAAO,IAAI,CAAC;KACf;;mHAnEQ,sBAAsB;uHAAtB,sBAAsB;2FAAtB,sBAAsB;kBADlC,UAAU;;;ACcX,MAAM,aAAa,GAAuB,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;AAC7E,MAAM,gBAAgB,GAAG,OAAO,qBAAqB,KAAK,WAAW,GAAG,uBAAuB,GAAG,aAAa,CAAC;MAqBnG,wBAAwB;IAgCjC,YACY,SAAoB,EACpB,KAAa,EACb,aAAqC,EAC7C,WAAuB,EACe,SAAc;QAJ5C,cAAS,GAAT,SAAS,CAAW;QACpB,UAAK,GAAL,KAAK,CAAQ;QACb,kBAAa,GAAb,aAAa,CAAwB;QAEP,cAAS,GAAT,SAAS,CAAK;QAnC/C,UAAK,GAAe,EAAE,CAAC;QAEvB,aAAQ,GAAqB,MAAM,CAAC;QAGpC,kBAAa,GAAG,KAAK,CAAC;QAGtB,gBAAW,GAAW,IAAI,CAAC;QAE1B,WAAM,GAAG,IAAI,YAAY,EAAS,CAAC;QACnC,WAAM,GAAG,IAAI,YAAY,EAAkC,CAAC;QAC5D,gBAAW,GAAG,IAAI,YAAY,EAAQ,CAAC;QACvC,iBAAY,GAAG,IAAI,YAAY,EAAQ,CAAC;QAMjC,cAAS,GAAG,IAAI,OAAO,EAAQ,CAAC;QAOzC,sBAAiB,GAAG,KAAK,CAAC;QAC1B,wBAAmB,GAAG,KAAK,CAAC;QAC5B,wBAAmB,GAAG,CAAC,CAAC;QAS5B,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,aAAa,CAAC;KAC9C;IAID,IAAI,eAAe;QACf,OAAO,IAAI,CAAC,gBAAgB,CAAC;KAChC;IAID,IAAY,WAAW;QACnB,OAAO,IAAI,CAAC,YAAY,CAAC;KAC5B;IAED,IAAY,WAAW,CAAC,KAAa;QACjC,IAAI,KAAK,KAAK,IAAI,CAAC,YAAY,EAAE;YAC7B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC;KACJ;IAED,IAAY,YAAY;QACpB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;YAClE,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC;YAClD,OAAO,WAAW,GAAG,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC;SAC5C;QACD,OAAO,CAAC,CAAC;KACZ;IAED,QAAQ;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;QAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;QAC5D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC;QAC5D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;QAC1D,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,uBAAuB,EAAE,CAAC;KAClC;IAED,WAAW,CAAC,OAAsB;QAC9B,IAAI,OAAO,CAAC,KAAK,EAAE;YACf,MAAM,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC;YAC7B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;SAChE;KACJ;IAED,WAAW;QACP,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACzE;KACJ;IAED,QAAQ,CAAC,MAAgB,EAAE,eAAe,GAAG,KAAK;QAC9C,IAAI,CAAC,MAAM,EAAE;YACT,OAAO;SACV;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,WAAW,EAAE;YACxC,OAAO;SACV;QAED,IAAI,QAAQ,CAAC;QACb,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,UAAU,CAAC;YAC5D,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,GAAG,UAAU,EAAE,UAAU,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;SACvG;aAAM;YACH,MAAM,IAAI,GAAgB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;YAC5E,MAAM,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC;YAC/E,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;SAC5F;QAED,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE;YACrB,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,QAAQ,CAAC;SAC9C;KACJ;IAED,WAAW;QACP,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;KAC7D;IAED,cAAc;QACV,IAAI,CAAC,gBAAgB,EAAE,CAAC;KAC3B;IAEO,uBAAuB;QAC3B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACvE,IAAI,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;YAC/C,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACpD;aAAM;YACH,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;SACvC;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAED,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;KACtC;IAEO,oBAAoB,CAAC,eAAuB;QAChD,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ;YAC3B,MAAM,gBAAgB,GAAG,aAAa,QAAQ,EAAE,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;YAC7D,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;SAC9D,CAAC,CAAC;QAEH,MAAM,aAAa,GAAG,aAAa,eAAe,EAAE,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;KACxD;IAEO,aAAa;QACjB,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACzB,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,QAAQ,CAAC;iBACnD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,gBAAgB,CAAC,CAAC;iBAC/D,SAAS,CAAC,CAAC,CAAiC;gBACzC,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC;gBAC5D,MAAM,SAAS,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAA;gBACrF,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;aACtC,CAAC,CAAC;SACV,CAAC,CAAC;KACN;IAEO,mBAAmB;QACvB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,OAAO;SACV;QAED,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACzB,KAAK,CACD,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAC1D,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAC5D,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC5B,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;SACxD,CAAC,CAAC;KACN;IAEO,aAAa,CAAC,MAAW;QAC7B,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;YAChF,OAAO;SACV;QAED,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,KAAK,MAAM,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QAC3E,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;YAChG,OAAO;SACV;QAED,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC;KAClD;IAEO,cAAc,CAAC,KAAiB,EAAE,WAAoB;QAC1D,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC;QAEhC,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;SACvC;aAAM;YACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;SAClC;KACJ;IAEO,YAAY,CAAC,WAAoB;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,WAAW,KAAK,KAAK,EAAE;YACvB,OAAO;SACV;QAED,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACzB,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBACnB,MAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC;gBACvD,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;gBACjD,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;aAC/C,CAAC,CAAC;SACN,CAAC,CAAC;KACN;IAEO,iBAAiB,CAAC,WAAoB;QAC1C,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACzB,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC;gBAC3B,IAAI,WAAW,EAAE;oBACb,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC1C,IAAI,CAAC,uBAAuB,EAAE,CAAC;iBAClC;qBAAM;oBACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;iBAC5B;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;KACN;IAEO,kBAAkB,CAAC,SAAiB;QACxC,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;SACrC;QACD,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;QACrC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;KACpC;IAEO,oBAAoB,CAAC,MAAc;QACvC,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC;YAClD,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SACpC;KACJ;IAEO,iBAAiB;QAErB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,OAAO;SACV;QAED,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;KAC7C;IAEO,qBAAqB;QACzB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;KACnC;IAEO,iBAAiB,CAAC,SAAS,GAAG,IAAI;QACtC,IAAI,SAAS,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE;YACrD,OAAO;SACV;QAED,SAAS,GAAG,SAAS,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC;QACzD,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAChG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,cAAc,KAAK,CAAC,UAAU,KAAK,CAAC;QAEzE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;YACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC;SAC5D,CAAC,CAAC;QAEH,IAAI,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;YACxD,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,SAAS,CAAC;YAC5C,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;SACxC;KACJ;IAEO,kBAAkB;QACtB,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,EAAE;YACxE,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SACzD;QAED,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;QAE1B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YAC1B,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;YAChE,MAAM,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,GAAG,IAAI,CAAC,WAAW,IAAI,CAAC;YAC3E,MAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;YAE5D,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;SACxC,CAAC,CAAC;KACN;IAEO,gBAAgB,CAAC,SAAiB;QACtC,IAAI,IAAI,CAAC,iBAAiB,IAAI,SAAS,KAAK,CAAC,EAAE;YAC3C,OAAO;SACV;QAED,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa;YAC9B,IAAI,CAAC,eAAe;YACpB,IAAI,CAAC,aAAa,CAAC;QAEvB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,GAAG,CAAC,EAAE;YACrE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;YAC9C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACjC;KACJ;IAEO,yBAAyB,CAAC,UAAuB;QACrD,IAAI,IAAI,CAAC,QAAQ,KAAK,MAAM,EAAE;YAC1B,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QACD,MAAM,UAAU,GAAe,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpE,MAAM,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC,SAAS,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;QAChF,MAAM,SAAS,GAAG,UAAU,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC;QACtD,MAAM,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;QACjC,MAAM,cAAc,GAAG,UAAU,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC;QACjE,IAAI,SAAS,GAAG,MAAM,GAAG,cAAc,GAAG,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,EAAE;YACzF,OAAO,KAAK,CAAC;SAChB;aAAM;YACH,OAAO,QAAQ,CAAC;SACnB;KACJ;IAEO,eAAe;QACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,OAAO;SACV;QAED,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,MAAM,IAAI,KAAK,CAAC,qBAAqB,IAAI,CAAC,QAAQ,mCAAmC,CAAC,CAAC;SAC1F;QACD,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC5C;IAEO,gBAAgB;QACpB,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpD,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QAE7C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;KACvD;IAEO,gBAAgB;QACpB,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpD,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;QAE5B,IAAI,IAAI,CAAC,gBAAgB,KAAK,KAAK,EAAE;YACjC,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YACnD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,GAAG,KAAK,GAAG,IAAI,CAAC;YAC1D,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC;SACrC;aAAM,IAAI,IAAI,CAAC,gBAAgB,KAAK,QAAQ,EAAE;YAC3C,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;YAC1C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC;YACpD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;SACxC;KACJ;IAEO,uBAAuB;QAC3B,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACzB,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC;iBACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC/B,SAAS,CAAC,CAAC,KAAiB;gBACzB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;gBAC3C,IAAI,MAAM,CAAC,OAAO,KAAK,OAAO,EAAE;oBAC5B,OAAO;iBACV;gBACD,KAAK,CAAC,cAAc,EAAE,CAAC;aAC1B,CAAC,CAAC;SACV,CAAC,CAAC;KACN;;qHArYQ,wBAAwB,8HAqCT,QAAQ;yGArCvB,wBAAwB,6fAiBH,UAAU,mHACX,UAAU,qHACT,UAAU,gEAlC9B;;;;;;;;;;;;;KAaT;2FAEQ,wBAAwB;kBAnBpC,SAAS;mBAAC;oBACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;oBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;oBACrC,QAAQ,EAAE,mBAAmB;oBAC7B,QAAQ,EAAE;;;;;;;;;;;;;KAaT;iBACJ;;0BAsCQ,QAAQ;;0BAAI,MAAM;2BAAC,QAAQ;4CAnCvB,KAAK;sBAAb,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,cAAc;sBAAtB,KAAK;gBACG,cAAc;sBAAtB,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBAEI,MAAM;sBAAf,MAAM;gBACG,MAAM;sBAAf,MAAM;gBACG,WAAW;sBAApB,MAAM;gBACG,YAAY;sBAArB,MAAM;gBAEmD,iBAAiB;sBAA1E,SAAS;uBAAC,SAAS,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE;gBACC,gBAAgB;sBAAxE,SAAS;uBAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE;gBACG,iBAAiB;sBAA1E,SAAS;uBAAC,SAAS,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE;;;MCpD/C,iBAAiB;IAY1B,YAAmB,UAAmC;QAAnC,eAAU,GAAV,UAAU,CAAyB;QAL7C,iBAAY,GAAG,IAAI,OAAO,EAAqD,CAAC;QAEjF,cAAS,GAAG,KAAK,CAAC;KAGiC;IAT3D,IACI,QAAQ,KAAK,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE;IACzC,IAAI,QAAQ,CAAC,KAAU,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA,EAAE;IASrE,IAAI,KAAK;QACL,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC;KACnE;IAED,WAAW,CAAC,OAAsB;QAC9B,IAAI,OAAO,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;gBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,QAAQ,EAAE,IAAI,CAAC,SAAS;aAC3B,CAAC,CAAC;SACN;KACJ;IAED,kBAAkB;QACd,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,cAAc,EAAE;YACpC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;gBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,QAAQ,EAAE,IAAI,CAAC,SAAS;gBACxB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,SAAS;aACjD,CAAC,CAAC;SACN;KACJ;IAED,WAAW;QACP,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;KAChC;IAEO,WAAW,CAAC,KAAK;QACrB,OAAO,KAAK,IAAI,IAAI,IAAI,GAAG,KAAK,EAAE,KAAK,OAAO,CAAC;KAClD;;8GA5CQ,iBAAiB;kGAAjB,iBAAiB,wHAFhB,2BAA2B;2FAE5B,iBAAiB;kBAL7B,SAAS;mBAAC;oBACP,QAAQ,EAAE,WAAW;oBACrB,eAAe,EAAE,uBAAuB,CAAC,MAAM;oBAC/C,QAAQ,EAAE,2BAA2B;iBACxC;iGAGY,KAAK;sBAAb,KAAK;gBAEF,QAAQ;sBADX,KAAK;;;MCjBG,cAAc;IAD3B;QAGI,iBAAY,GAAG,gBAAgB,CAAC;QAChC,qBAAgB,GAAG,gBAAgB,CAAC;QACpC,eAAU,GAAG,UAAU,CAAC;QACxB,gBAAW,GAAG,YAAY,CAAC;QAC3B,iBAAY,GAAG,WAAW,CAAC;QAC3B,yBAAoB,GAAG,IAAI,CAAC;QAC5B,gBAAW,GAAG,IAAI,CAAC;QAInB,eAAU,GAAG,WAAW,CAAC;KAE5B;;2GAdY,cAAc;+GAAd,cAAc,cADD,MAAM;2FACnB,cAAc;kBAD1B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;MCCrB,cAAc;IACvB,IAAI,CAAC,OAAe;QAChB,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;KACxB;;2GAHQ,cAAc;+GAAd,cAAc,cADD,MAAM;2FACnB,cAAc;kBAD1B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;MCqDrB,uBAAuB,GAAG,IAAI,cAAc,CAAwB,2BAA2B,EAAE;MAiBjG,iBAAiB;IAuJ1B,YAC+B,OAAe,EACV,SAAc,EACvC,MAAsB,EACI,iBAAwC,EACzE,WAAoC,EAC5B,GAAsB,EACtB,QAAwB;QANL,YAAO,GAAP,OAAO,CAAQ;QACV,cAAS,GAAT,SAAS,CAAK;QACvC,WAAM,GAAN,MAAM,CAAgB;QAGrB,QAAG,GAAH,GAAG,CAAmB;QACtB,aAAQ,GAAR,QAAQ,CAAgB;QA1J3B,cAAS,GAAG,IAAI,CAAC;QAQjB,qBAAgB,GAAqB,MAAM,CAAC;QAE5C,YAAO,GAAG,KAAK,CAAC;QAChB,kBAAa,GAAG,IAAI,CAAC;QACrB,iBAAY,GAAG,KAAK,CAAC;QACrB,gBAAW,GAAG,KAAK,CAAC;QAKpB,iBAAY,GAAG,CAAC,CAAC;QAEjB,oBAAe,GAAG,KAAK,CAAC;QACxB,2BAAsB,GAAG,IAAI,CAAC;QAC9B,aAAQ,GAAG,IAAI,CAAC;QAChB,cAAS,GAAG,IAAI,CAAC;QACjB,qBAAgB,GAAG,IAAI,CAAC;QACxB,eAAU,GAAG,IAAI,CAAC;QAClB,eAAU,GAA8B,EAAE,CAAC;QAE3C,aAAQ,GAAG,KAAK,CAAC;QACjB,yBAAoB,GAAG,IAAI,CAAC;QAC5B,kBAAa,GAAG,CAAC,CAAC;QAClB,uBAAkB,GAAG,KAAK,CAAC;QAC3B,cAAS,GAAG,CAAC,CAAgB,KAAK,IAAI,CAAC;QAGE,aAAQ,GAAG,KAAK,CAAC;QACjB,WAAM,GAAuB,KAAK,CAAC;QACjC,eAAU,GAAG,IAAI,CAAC;QACnB,cAAS,GAAG,IAAI,CAAC;QACpB,WAAM,GAAG,KAAK,CAAC;;QAsC/C,cAAS,GAAG,IAAI,YAAY,EAAE,CAAC;QAC9B,eAAU,GAAG,IAAI,YAAY,EAAE,CAAC;QAC/B,gBAAW,GAAG,IAAI,YAAY,EAAE,CAAC;QACnC,cAAS,GAAG,IAAI,YAAY,EAAE,CAAC;QAC9B,eAAU,GAAG,IAAI,YAAY,EAAE,CAAC;QAC/B,gBAAW,GAAG,IAAI,YAAY,EAAkC,CAAC;QAClE,eAAU,GAAG,IAAI,YAAY,EAAE,CAAC;QAClC,aAAQ,GAAG,IAAI,YAAY,EAAE,CAAC;QAC3B,gBAAW,GAAG,IAAI,YAAY,EAAE,CAAC;QACjC,WAAM,GAAG,IAAI,YAAY,EAAkC,CAAC;QACvD,gBAAW,GAAG,IAAI,YAAY,EAAE,CAAC;QAmBxB,oBAAe,GAAG,IAAI,CAAC;QASvD,kBAAa,GAAe,EAAE,CAAC;QAC/B,eAAU,GAAW,IAAI,CAAC;QAC1B,eAAU,GAAG,KAAK,EAAE,CAAC;QAGrB,eAAU,GAAG,IAAI,CAAC;QAEV,WAAM,GAAG,EAAE,CAAC;QAEZ,kBAAa,GAAG,OAAO,CAAC;QAIxB,iBAAY,GAAa,EAAE,CAAC;QAG5B,iBAAY,GAAG,KAAK,CAAC;QAMZ,cAAS,GAAG,IAAI,OAAO,EAAQ,CAAC;QAChC,eAAU,GAAG,IAAI,OAAO,EAAU,CAAC;QAC5C,cAAS,GAAG,CAAC,CAAM,QAAQ,CAAC;QAC5B,eAAU,GAAG,SAAS,CAAC;QAE/B,cAAS,GAAG,CAAC,IAAS;YAClB,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC;YAC9D,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACzB,CAAC;QA+SF,kBAAa,GAAG,CAAC,CAAS,EAAE,IAAc;YACtC,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrC;YAED,OAAO,IAAI,CAAC;SACf,CAAC;QA1SE,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,aAAa,CAAC;KAC5C;IAtHD,IACI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAA,EAAE;;IAElC,IAAI,KAAK,CAAC,KAAmB;QACzB,IAAI,KAAK,KAAK,IAAI,EAAE;YAChB,KAAK,GAAG,EAAE,CAAC;SACd;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;;IAED,IACI,WAAW,KAAK,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE;IAE/C,IAAI,WAAW,CAAC,EAAiB;QAC7B,IAAI,EAAE,KAAK,SAAS,IAAI,EAAE,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;YACpD,MAAM,KAAK,CAAC,mCAAmC,CAAC,CAAC;SACpD;QACD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;KAC1B;IAED,IACI,gBAAgB;QAChB,IAAI,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE;YACnC,OAAO,IAAI,CAAC,iBAAiB,CAAC;SACjC;aAAM,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE;YAChD,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC;SACvC;QACD,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B;;IAED,IAAI,gBAAgB,CAAC,KAAK;QACtB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;KAClC;;IAkCD,IAA6C,QAAQ,KAAK,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAA,EAAE;;IAElG,IAA6C,QAAQ,KAAK,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,YAAY,EAAC,EAAE;;IAE9H,IAA2C,MAAM,KAAK,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAA,EAAE;;IAqB7E,IAAY,mBAAmB;QAC3B,OAAO,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;KACpD;IA0BD,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;KACvC;IAED,IAAI,cAAc;QACd,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;KAC/C;IAED,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;KACxC;IAED,IAAI,oBAAoB;QACpB,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,OAAO,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;SAC7C;QACD,OAAO,SAAS,CAAC;KACpB;IAED,QAAQ;QACJ,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC9B;IAED,WAAW,CAAC,OAAsB;QAC9B,IAAI,OAAO,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;SAClC;QACD,IAAI,OAAO,CAAC,KAAK,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,IAAI,EAAE,CAAC,CAAC;SACpD;QACD,IAAI,OAAO,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SAC7D;KACJ;IAED,eAAe;QACX,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,sBAAsB,EAAE,CAAC;SACjC;QAED,IAAI,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAC3B,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ;IAED,WAAW;QACP,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC7B;IAGD,aAAa,CAAC,MAAqB;QAC/B,MAAM,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,OAAO,EAAE;YACT,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,KAAK,EAAE;gBAClC,OAAO;aACV;YACD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;SAC7B;aAAM,IAAI,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC,CAAC;SACxD;KACJ;IAED,aAAa,CAAC,MAAqB;QAC/B,QAAQ,MAAM,CAAC,KAAK;YACpB,KAAK,OAAO,CAAC,SAAS;gBAClB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;gBAC9B,MAAM;YACV,KAAK,OAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC5B,MAAM;YACV,KAAK,OAAO,CAAC,KAAK;gBACd,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC1B,MAAM;YACV,KAAK,OAAO,CAAC,KAAK;gBACd,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC1B,MAAM;YACV,KAAK,OAAO,CAAC,GAAG;gBACZ,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBACxB,MAAM;YACV,KAAK,OAAO,CAAC,GAAG;gBACZ,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,MAAM,CAAC,cAAc,EAAE,CAAC;gBACxB,MAAM;YACV,KAAK,OAAO,CAAC,SAAS;gBAClB,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,MAAK;SACR;KACJ;IAED,eAAe,CAAC,MAAkB;QAC9B,MAAM,MAAM,GAAG,MAAM,CAAC,MAAqB,CAAC;QAC5C,IAAI,MAAM,CAAC,OAAO,KAAK,OAAO,EAAE;YAC5B,MAAM,CAAC,cAAc,EAAE,CAAC;SAC3B;QAED,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;YAC/C,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,OAAO;SACV;QAED,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;YAC/C,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,OAAO;SACV;QAED,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;YAC5C,OAAO;SACV;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;aAAM;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;KACJ;IAED,gBAAgB;QACZ,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;aAAM;YACH,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;KACJ;IAED,gBAAgB;QACZ,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QAEvB,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC9B;IAED,UAAU;QACN,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;QAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;KACzB;IAED,UAAU,CAAC,KAAkB;QACzB,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;QAC/B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;KAC3B;IAED,gBAAgB,CAAC,EAAO;QACpB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACvB;IAED,iBAAiB,CAAC,EAAO;QACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;KACxB;IAED,gBAAgB,CAAC,KAAc;QAC3B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;KAC3B;IAED,MAAM;QACF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;aAAM;YACH,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ;IAED,IAAI;QACA,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,IAAI,IAAI,CAAC,WAAW,EAAE;YACrF,OAAO;SACV;QAED,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE;YACtE,OAAO;SACV;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;QACD,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;IAED,KAAK;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YAClC,OAAO;SACV;QACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC3B,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;SACvC;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QAC5B,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;KAC3B;IAED,UAAU,CAAC,IAAc;QACrB,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;YACzC,OAAO;SACV;QAED,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;YAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SACrB;QAED,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAClC;QAED,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC9B;IAED,MAAM,CAAC,IAAc;QACjB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC5B,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;gBACpD,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;YAED,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAClC;SACJ;QAED,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE;YACtD,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ;IAED,KAAK;QACD,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KAC1C;IAED,IAAI;QACA,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;KACzC;IAED,QAAQ,CAAC,IAAc;QACnB,IAAI,CAAC,IAAI,EAAE;YACP,OAAO;SACV;QAED,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC/B;IAED,SAAS;QACL,IAAI,GAAG,CAAC;QACR,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YACzB,GAAG,GAAc,IAAI,CAAC,MAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAClD;aAAM;YACH,GAAG,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SACnF;QAED,MAAM,SAAS,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAClI,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;YAChB,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SACnE;aAAM,IAAI,GAAG,EAAE;YACZ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SAC/B;KACJ;IAED,SAAS;QACL,OAAO,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;KACjF;IAUD,IAAI,UAAU;QACV,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;QAClD,OAAO,IAAI,CAAC,MAAM;aACb,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC;iBACnE,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;YACzG,CAAC,IAAI,CAAC,OAAO,CAAC;KACrB;IAED,gBAAgB;QACZ,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,CAAC;QACxD,OAAO,CAAC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,OAAO;aAChD,KAAK,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAChE,CAAC,IAAI,CAAC,UAAU,CAAC;KACxB;IAED,gBAAgB;QACZ,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,CAAC;QACxD,OAAO,KAAK,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;KAC1E;IAED,kBAAkB;QACd,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC5B;IAED,gBAAgB,CAAC,IAAY;QACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC3B,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACrB;IAED,MAAM,CAAC,IAAY;QACf,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;YACjD,OAAO;SACV;QAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,CAAC,EAAE;YACpE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7B;QAED,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACvC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACxD;SACJ;QAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACvF,IAAI,CAAC,IAAI,EAAE,CAAC;KACf;IAED,YAAY,CAAC,MAAM;QACf,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO;SACV;QAED,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAClC;QAED,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KACvB;IAED,WAAW,CAAC,MAAM;QACd,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC5B,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChC,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QACD,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAClC;QACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACxB;IAED,WAAW,CAAC,IAAc;QACtB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACjC;IAED,aAAa;QACT,IAAI,CAAO,IAAI,CAAC,GAAI,CAAC,SAAS,EAAE;YAC5B,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;SAC5B;KACJ;IAEO,uBAAuB;QAC3B,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,UAAU,GAAG,CAAC,QAAQ,IAAI,QAAQ,CAAC,KAAK,KAAK,IAAI,CAAC;KAC1D;IAEO,SAAS,CAAC,KAAY;QAC1B,MAAM,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,aAAa,CAAC;QACzH,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACnC,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;SACrC;QACD,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACjE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC1C;QACD,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,EAAE;YAClC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACxD;KACJ;IAEO,sBAAsB;QAC1B,MAAM,YAAY,GAAG,CAAC,OAAqC;YACvD,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,KAAK;gBAChC,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC5B,cAAc,EAAE,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,SAAS;gBACzD,QAAQ,EAAE,MAAM,CAAC,QAAQ;aAC5B,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;aACrC;YACD,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB,CAAC;QAEF,MAAM,kBAAkB,GAAG;YACvB,MAAM,kBAAkB,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACzE,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC;iBACtD,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;iBACnC,SAAS,CAAC,MAAM;gBACb,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACnD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAChC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC;gBACxC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC5B,CAAC,CAAC;SACV,CAAC;QAEF,IAAI,CAAC,SAAS,CAAC,OAAO;aACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC1D,SAAS,CAAC,OAAO;YACd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;YACpC,YAAY,CAAC,OAAO,CAAC,CAAC;YACtB,kBAAkB,EAAE,CAAC;SACxB,CAAC,CAAC;KACV;IAEO,kBAAkB,CAAC,KAAU;QACjC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,QAAQ,IAAI,KAAK,KAAK,EAAE,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpG,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,eAAe,GAAG,CAAC,IAAS;YAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClE,IAAI,CAAC,QAAQ,CAAC,IAAI,CACd,kBAAkB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,6EAA6E,CACtH,CAAC;gBACF,OAAO,KAAK,CAAC;aAChB;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;gBAC/D,OAAO,KAAK,CAAC;aAChB;YACD,OAAO,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;SACrD;aAAM;YACH,OAAO,eAAe,CAAC,KAAK,CAAC,CAAC;SACjC;KACJ;IAEO,iBAAiB,CAAC,OAAoB;QAC1C,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE;YACnC,OAAM;SACT;QAED,MAAM,MAAM,GAAG,CAAC,GAAQ;YACpB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC/B;iBAAM;gBACH,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAClC,MAAM,WAAW,GAAG,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;gBACpD,KAAK,WAAW,IAAI,WAAW,GAAG;oBAC9B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;iBAC5D;qBAAM,IAAI,IAAI,CAAC,SAAS,EAAE;oBACvB,IAAI,GAAG;wBACH,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI;wBACtB,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG;qBACxB,CAAC;oBACF,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;iBAC7D;aACJ;SACJ,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,EAAE;YACP,OAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;SAClD;aAAM;YACH,MAAM,CAAC,OAAO,CAAC,CAAC;SACnB;KACJ;IAEO,iBAAiB;QACrB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;SACV;QAED,IAAI,CAAC,UAAU;aACV,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,EAC3B,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAC7C,YAAY,CAAC,GAAG,CAAC,EACjB,MAAM,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,EAC1C,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;aACzC,SAAS,CAAC,IAAI;YACX,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAI,IAAI,EAAE;gBACN,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAC9B,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;iBAC3B;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBACrB;aACJ;YACD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;SAC1B,CAAC,CAAC;KACV;IAEO,mBAAmB;QACvB,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;QAC7C,MAAM,UAAU,GAAG;YACf,IAAI,EAAE,MAAM;YACZ,WAAW,EAAE,KAAK;YAClB,cAAc,EAAE,KAAK;YACrB,YAAY,EAAE,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,IAAI,CAAC,UAAU;YACvD,GAAG,IAAI,CAAC,UAAU;SACrB,CAAC;QAEF,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACvC,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;SAC5C;KACJ;IAEO,cAAc;QAClB,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,aAAa,EAAE;YACnC,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,KAAK,GAAG,IAAI,CAAC;gBACjB,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACf,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAW,IAAI,CAAC,OAAO,CAAC;oBACzE,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAY,IAAI,CAAC,OAAO,CAAC,CAAC;iBACxD;qBAAM;oBACH,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;iBACpE;gBACD,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrB;iBAAM;gBACH,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC1B;SACJ;QAED,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;QACtD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACnC;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;SACtC;QAED,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;KAC3B;IAEO,YAAY;QAChB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,OAAO;SACV;QAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;KACvC;IAEO,aAAa,CAAC,UAAkB;QACpC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACnC;KACJ;IAEO,eAAe;QACnB,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrC,OAAO;SACV;QACD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;KAC1D;IAEO,YAAY;QAChB,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrC,OAAO;SACV;QACD,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;KACpC;IAEO,mBAAmB;QACvB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;;YAE/C,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;SACvC;KACJ;IAEO,UAAU,CAAC,MAAqB;QACpC,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACvC,OAAO;SACV;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;gBAC3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBAC3C,MAAM,CAAC,cAAc,EAAE,CAAC;aAC3B;iBAAM,IAAI,IAAI,CAAC,UAAU,EAAE;gBACxB,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,MAAM,CAAC,cAAc,EAAE,CAAC;aAC3B;iBAAM;gBACH,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;SACJ;aAAM;YACH,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ;IAEO,YAAY,CAAC,MAAqB;QACtC,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YACjC,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;gBAC3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;aAC9C;iBAAM,IAAI,IAAI,CAAC,UAAU,EAAE;gBACxB,IAAI,CAAC,SAAS,EAAE,CAAC;aACpB;SACJ;aAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YACzB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;aAAM;YACH,OAAO;SACV;QAED,MAAM,CAAC,cAAc,EAAE,CAAC;KAC3B;IAEO,YAAY,CAAC,MAAqB;QACtC,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YACjC,OAAO;SACV;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,MAAM,CAAC,cAAc,EAAE,CAAC;KAC3B;IAEO,gBAAgB,CAAC,MAAqB;QAC1C,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE;YACzB,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;YAC5B,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;YAC9B,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,MAAM,CAAC,cAAc,EAAE,CAAC;KAC3B;IAEO,cAAc,CAAC,MAAqB;QACxC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,OAAO;SACV;QAED,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE;YACzB,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;YAC5B,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;YAClC,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;QACD,MAAM,CAAC,cAAc,EAAE,CAAC;KAC3B;IAEO,cAAc,CAAC,QAAgB;QACnC,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;QACxD,OAAO,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU;eAC9B,IAAI,CAAC,SAAS,CAAC,UAAU;gBACxB,SAAS,GAAG,CAAC,IAAI,SAAS,KAAK,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;KAC9E;IAEO,gBAAgB;QACpB,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChF,OAAO;SACV;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;SAClD;aAAM;YACH,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;KACJ;IAED,IAAY,YAAY;QACpB,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;KAChE;IAED,IAAY,UAAU;QAClB,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvD,OAAO,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC;KACpD;IAEO,kBAAkB,CAAC,MAAsB;QAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC;QAC7D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,IAAI,MAAM,CAAC,gBAAgB,CAAC;QACzE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC;QACvD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC;QAC7D,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC;cAC5C,IAAI,CAAC,aAAa;cAClB,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,oBAAoB,GAAG,KAAK,CAAC;QACpF,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QACvF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC;QACjD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC;QACpD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC;KAC1D;;8GA53BQ,iBAAiB,kBAwJX,OAAO,8BACP,WAAW,yDAEd,uBAAuB;kGA3J1B,iBAAiB,+gEARf,CAAC;YACR,OAAO,EAAE,iBAAiB;YAC1B,WAAW,EAAE,UAAU,CAAC,MAAM,iBAAiB,CAAC;YAChD,KAAK,EAAE,IAAI;SACd,EAAE,sBAAsB,CAAC,sEAkGZ,yBAAyB,2BAAU,WAAW,gEAC9C,2BAA2B,2BAAU,WAAW,6DAChD,wBAAwB,2BAAU,WAAW,kEAC7C,6BAA6B,2BAAU,WAAW,8DAClD,yBAAyB,2BAAU,WAAW,8DAC9C,yBAAyB,2BAAU,WAAW,gEAC9C,2BAA2B,2BAAU,WAAW,oEAChD,+BAA+B,2BAAU,WAAW,mEACpD,8BAA8B,2BAAU,WAAW,2DACnD,sBAAsB,2BAAU,WAAW,sEAC3C,iCAAiC,2BAAU,WAAW,4CAInD,iBAAiB,+FAFN,wBAAwB,gLClLxD,29OA+JA;2FDvFa,iBAAiB;kBAZ7B,SAAS;+BACI,WAAW,aAGV,CAAC;4BACR,OAAO,EAAE,iBAAiB;4BAC1B,WAAW,EAAE,UAAU,CAAC,uBAAuB,CAAC;4BAChD,KAAK,EAAE,IAAI;yBACd,EAAE,sBAAsB,CAAC,iBACX,iBAAiB,CAAC,IAAI,mBACpB,uBAAuB,CAAC,MAAM;;0BA0J1C,SAAS;2BAAC,OAAO;;0BACjB,SAAS;2BAAC,WAAW;;0BAErB,MAAM;2BAAC,uBAAuB;+HAzJ1B,SAAS;sBAAjB,KAAK;gBACG,SAAS;sBAAjB,KAAK;gBACG,SAAS;sBAAjB,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,OAAO;sBAAf,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBACG,OAAO;sBAAf,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,eAAe;sBAAvB,KAAK;gBACG,sBAAsB;sBAA9B,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,SAAS;sBAAjB,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,UAAU;sBAAlB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,oBAAoB;sBAA5B,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,kBAAkB;sBAA1B,KAAK;gBACG,SAAS;sBAAjB,KAAK;gBAE6C,SAAS;sBAA3D,KAAK;;sBAAI,WAAW;uBAAC,2BAA2B;gBACC,QAAQ;sBAAzD,KAAK;;sBAAI,WAAW;uBAAC,0BAA0B;gBACE,MAAM;sBAAvD,KAAK;;sBAAI,WAAW;uBAAC,0BAA0B;gBACI,UAAU;sBAA7D,KAAK;;sBAAI,WAAW;uBAAC,4BAA4B;gBACC,SAAS;sBAA3D,KAAK;;sBAAI,WAAW;uBAAC,2BAA2B;gBACD,MAAM;sBAArD,KAAK;;sBAAI,WAAW;uBAAC,wBAAwB;gBAG1C,KAAK;sBADR,KAAK;gBAYF,WAAW;sBADd,KAAK;gBAWF,gBAAgB;sBADnB,KAAK;gBAeU,SAAS;sBAAxB,MAAM;uBAAC,MAAM;gBACG,UAAU;sBAA1B,MAAM;uBAAC,OAAO;gBACG,WAAW;sBAA5B,MAAM;uBAAC,QAAQ;gBACA,SAAS;sBAAxB,MAAM;uBAAC,MAAM;gBACG,UAAU;sBAA1B,MAAM;uBAAC,OAAO;gBACG,WAAW;sBAA5B,MAAM;uBAAC,QAAQ;gBACC,UAAU;sBAA1B,MAAM;uBAAC,OAAO;gBACA,QAAQ;sBAAtB,MAAM;uBAAC,KAAK;gBACK,WAAW;sBAA5B,MAAM;uBAAC,QAAQ;gBACE,MAAM;sBAAvB,MAAM;uBAAC,QAAQ;gBACO,WAAW;sBAAjC,MAAM;uBAAC,aAAa;gBAG2C,cAAc;sBAA7E,YAAY;uBAAC,yBAAyB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACI,gBAAgB;sBAAjF,YAAY;uBAAC,2BAA2B,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACD,aAAa;sBAA3E,YAAY;uBAAC,wBAAwB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACO,kBAAkB;sBAArF,YAAY;uBAAC,6BAA6B,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACF,cAAc;sBAA7E,YAAY;uBAAC,yBAAyB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACE,cAAc;sBAA7E,YAAY;uBAAC,yBAAyB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACI,gBAAgB;sBAAjF,YAAY;uBAAC,2BAA2B,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACM,oBAAoB;sBAAzF,YAAY;uBAAC,+BAA+B,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACC,mBAAmB;sBAAvF,YAAY;uBAAC,8BAA8B,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACN,WAAW;sBAAvE,YAAY;uBAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBACa,sBAAsB;sBAA7F,YAAY;uBAAC,iCAAiC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;gBAEf,aAAa;sBAAnE,SAAS;uBAAC,UAAU,CAAC,MAAM,wBAAwB,CAAC;gBACT,WAAW;sBAAtD,SAAS;uBAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;gBACiB,SAAS;sBAAnE,eAAe;uBAAC,iBAAiB,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE;gBAEzB,eAAe;sBAA9C,WAAW;uBAAC,iBAAiB;gBAEe,QAAQ;sBAApD,WAAW;uBAAC,0BAA0B;gBAEM,QAAQ;sBAApD,WAAW;uBAAC,0BAA0B;gBAEI,MAAM;sBAAhD,WAAW;uBAAC,wBAAwB;gBAsGrC,aAAa;sBADZ,YAAY;uBAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;;;SE7RvB,4BAA4B;IACxC,OAAO,IAAI,qBAAqB,EAAE,CAAC;AACvC,CAAC;MASY,qBAAqB;IAAlC;QACY,cAAS,GAAe,EAAE,CAAC;KAwEtC;IAtEG,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;IAED,MAAM,CAAC,IAAc,EAAE,QAAiB,EAAE,YAAqB;QAC3D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,CAAC,QAAQ,IAAI,YAAY,CAAC,EAAE;YAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7B;QACD,IAAI,QAAQ,EAAE;YACV,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAClD,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;gBAC1E,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,aAAa,KAAK,aAAa,CAAC;aAC1D;iBAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACtB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBACpD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC3B,IAAI,YAAY,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;oBAC5C,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,EAAE,IAAI,CAAC,CAAA;iBAC5E;qBAAM;oBACH,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBACnF;aACJ;SACJ;KACJ;IAED,QAAQ,CAAC,IAAc,EAAE,QAAiB;QACtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,QAAQ,EAAE;YACV,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrC,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAChC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACxE,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;aAChC;iBAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACtB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBACrD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aAC9B;SACJ;KACJ;IAED,KAAK,CAAC,YAAqB;QACvB,IAAI,CAAC,SAAS,GAAG,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;KAC/E;IAEO,yBAAyB,CAAC,QAAoB,EAAE,QAAiB;QACrE,KAAK,MAAM,KAAK,IAAI,QAAQ,EAAE;YAC1B,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAChB,SAAS;aACZ;YACD,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC7B;KACJ;IAEO,eAAe,CAAC,MAAgB;QACpC,IAAI,CAAC,SAAS,GAAG;YACb,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC;YAClD,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC;SAClF,CAAC;KACL;IAEO,aAAa,CAAC,MAAgB;QAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,MAAM,CAAC,CAAA;KAC5D;IAEO,eAAe,CAAC,IAAc;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;KAC9D;;;MC1BQ,cAAc;;2GAAd,cAAc;4GAAd,cAAc,iBAtCnB,wBAAwB;QACxB,iBAAiB;QACjB,iBAAiB;QACjB,2BAA2B;QAC3B,yBAAyB;QACzB,wBAAwB;QACxB,6BAA6B;QAC7B,yBAAyB;QACzB,yBAAyB;QACzB,2BAA2B;QAC3B,+BAA+B;QAC/B,8BAA8B;QAC9B,sBAAsB;QACtB,iCAAiC;QACjC,oBAAoB,aAGpB,YAAY,aAGZ,iBAAiB;QACjB,iBAAiB;QACjB,2BAA2B;QAC3B,yBAAyB;QACzB,wBAAwB;QACxB,6BAA6B;QAC7B,yBAAyB;QACzB,yBAAyB;QACzB,2BAA2B;QAC3B,+BAA+B;QAC/B,8BAA8B;QAC9B,sBAAsB;QACtB,iCAAiC;4GAM5B,cAAc,aAJZ;QACP,EAAE,OAAO,EAAE,uBAAuB,EAAE,QAAQ,EAAE,4BAA4B,EAAE;KAC/E,YApBQ;YACL,YAAY;SACf;2FAoBQ,cAAc;kBAxC1B,QAAQ;mBAAC;oBACN,YAAY,EAAE;wBACV,wBAAwB;wBACxB,iBAAiB;wBACjB,iBAAiB;wBACjB,2BAA2B;wBAC3B,yBAAyB;wBACzB,wBAAwB;wBACxB,6BAA6B;wBAC7B,yBAAyB;wBACzB,yBAAyB;wBACzB,2BAA2B;wBAC3B,+BAA+B;wBAC/B,8BAA8B;wBAC9B,sBAAsB;wBACtB,iCAAiC;wBACjC,oBAAoB;qBACvB;oBACD,OAAO,EAAE;wBACL,YAAY;qBACf;oBACD,OAAO,EAAE;wBACL,iBAAiB;wBACjB,iBAAiB;wBACjB,2BAA2B;wBAC3B,yBAAyB;wBACzB,wBAAwB;wBACxB,6BAA6B;wBAC7B,yBAAyB;wBACzB,yBAAyB;wBACzB,2BAA2B;wBAC3B,+BAA+B;wBAC/B,8BAA8B;wBAC9B,sBAAsB;wBACtB,iCAAiC;qBACpC;oBACD,SAAS,EAAE;wBACP,EAAE,OAAO,EAAE,uBAAuB,EAAE,QAAQ,EAAE,4BAA4B,EAAE;qBAC/E;iBACJ;;;AC5DD;;;;ACAA;;;;;;"}